/*! For license information please see main.48d473408635552be88a.js.LICENSE.txt */
"use strict";(self.webpackChunkcinema=self.webpackChunkcinema||[]).push([[792],{16:(n,e,t)=>{t.d(e,{A:()=>x});var r=t(601),a=t.n(r),o=t(314),i=t.n(o),c=t(417),l=t.n(c),s=new URL(t(967),t.b),p=new URL(t(375),t.b),u=new URL(t(449),t.b),f=new URL(t(618),t.b),d=i()(a()),m=l()(s),h=l()(p),g=l()(u),b=l()(f);d.push([n.id,`@font-face { \n  font-family: 'Roboto'; \n  src: url(${m}) format('woff2'), \n       url(${h}) format('woff'), \n       url(${g}) format('truetype'); \n  font-weight: 400; \n  font-style: normal; \n}\n\nbody {\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto', Arial, sans-serif;\n    width: 100%;\n}\n\nbody.guest {\n    background: url(${b}) no-repeat fixed;\n    background-size: cover;\n}\n\n.container {\n  width: 990px;\n  margin: 0 auto;\n  padding: 20px 0;\n}\n\n.logo-wrapper {\n    max-width: 990px;\n    margin: 0 auto;\n    color: white;\n    padding: 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.logo-text {\n    font-weight: 900;\n    margin: 0;\n}\n\n.logo-part {\n    font-weight: 100;\n    font-family: 'Roboto', Arial, sans-serif;\n}\n\n.login-button {\n  display: flex;\n  flex-direction: column;\n  width: 71px;\n  height: 40px;\n  border-radius: 3px;\n  padding: 12px;\n  background-color: #16A6AF;\n  color: white;\n  border: none;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.12), 0 0 3px rgba(0, 0, 0, 0.24);\n  cursor: pointer;\n  font-family: inherit;\n  font-weight: bold;\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.2s ease;\n}\n\n.login-button:hover {\n  background-color: #138b94;\n}\n\n.admin-logo-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  position: relative;\n  color: white;\n  width: 60%;\n  margin: auto;\n  margin-bottom: 30px;\n}\n\n.admin-subtitle {\n  position: absolute;\n  font-size: 1.2rem;\n  letter-spacing: 0.5em;\n  font-weight: 100;\n  text-transform: uppercase;\n  margin: 5px 0 0;\n  transform: scaleX(0.50);\n  margin-left: 0;\n  top: 30px;\n  left: -99px;\n}\n\n@media (max-width: 768px) {\n  .container {\n    width: 100%;\n    padding: 15px;\n  }\n  \n  .logo-wrapper {\n    align-items: center;\n    text-align: center;\n    padding: 15px;\n  }\n  \n  .admin-container {\n    width: 100%;\n    padding: 15px;\n  }\n}\n\n@media (max-width: 390px) {\n  .container {\n    padding: 10px;\n  }\n  \n  .logo-text {\n    font-size: 24px;\n  }\n  \n  .login-button {\n    margin-top: 10px;\n  }\n}`,""]);const x=d},52:(n,e,t)=>{n.exports=t.p+"images/close-btn.e6bf2a5c2fe1361d1a56.png"},200:(n,e,t)=>{n.exports=t.p+"images/admin-bg.195d020c70d2955f5661.jpg"},235:(n,e,t)=>{t.d(e,{A:()=>f});var r=t(601),a=t.n(r),o=t(314),i=t.n(o),c=t(417),l=t.n(c),s=new URL(t(450),t.b),p=i()(a()),u=l()(s);p.push([n.id,`.ticket-container {\n  max-width: 990px;\n  margin: 0 auto;\n  padding: 0;\n  font-family: 'Roboto', sans-serif;\n  position: relative;\n}\n\n.ticket-header {\n  padding: 25px 15px;\n  position: relative;\n  background: rgba(241, 235, 230, 0.95);\n  z-index: 1;\n  text-align: center;\n}\n\n.ticket-header::before,\n.ticket-header::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background: transparent url(${u}) 0 0 repeat-x;\n  background-size: 10px 4px;\n  z-index: 2;\n  image-rendering: crisp-edges;\n  image-rendering: pixelated;\n  pointer-events: none;\n}\n\n.ticket-header::before {\n  top: -3px;\n}\n\n.ticket-header::after {\n  bottom: -3px;\n  transform: rotate(180deg);\n  background-position: -1px 0;\n}\n\n.ticket-header h2 {\n  font-weight: 700;\n  font-size: 22px;\n  line-height: 25px;\n  text-transform: uppercase;\n  color: #C76F00;\n  margin: 0;\n}\n\n.ticket-content {\n  padding: 20px 15px;\n  position: relative;\n  background: rgba(241, 235, 230, 0.95);\n  margin-top: 6px;\n}\n\n.ticket-content::before,\n.ticket-content::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background: transparent url(${u}) 0 0 repeat-x;\n  background-size: 10px 4px;\n  z-index: 2;\n  image-rendering: crisp-edges;\n  image-rendering: pixelated;\n  pointer-events: none;\n}\n\n.ticket-content::before {\n  top: -3px;\n}\n\n.ticket-content::after {\n  bottom: -3px;\n  transform: rotate(180deg);\n  background-position: -1px 0;\n}\n\n.ticket-info {\n  margin-bottom: 30px;\n}\n\n.ticket-info p {\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 18px;\n  color: #000000;\n  margin: 14px 0;\n}\n\n.ticket-qr {\n  width: 200px;\n  height: 200px;\n  margin: 30px auto;\n  background: white;\n  padding: 10px;\n  border: 1px solid #eee;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ticket-instructions {\n  margin: 30px 0;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 16px;\n  color: #000000;\n}\n\n.ticket-instructions p {\n  margin: 8px 0;\n}`,""]);const f=p},244:(n,e,t)=>{n.exports=t.p+"images/arrow.7f529507ba3de29fd731.png"},285:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,".date-strip-container {\n  position: relative;\n  width: 990px;\n  height: 54px;\n  margin-left: auto;\n  margin-right: auto;\n  margin: auto;\n}\n\n.dates-container {\n  display: flex;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  align-items: center;\n  white-space: nowrap;\n}\n\n.arrow {\n  flex-shrink: 0;\n}\n\n.date-item {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  cursor: pointer;\n  flex-shrink: 1;\n  margin: 0;\n  padding: 0 12px;\n  box-sizing: border-box;\n  transition: width 0.3s ease, height 0.3s ease, background 0.3s ease;\n  background: #FFFFFFE5;\n  flex-shrink: 0;\n  border-radius: 2px;\n  height: 48px;\n  margin-right: 1px;\n}\n\n.date-item:last-child {\n  margin-right: 0;\n}\n\n.selected {\n  background: #FFFFFF;\n  height: 54px;\n  position: relative;\n  z-index: 1;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.date-item.arrow {\n  justify-content: center;\n  align-items: center;\n  padding: 0;\n}\n\n.date-line {\n    text-align: left;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n}\n\n.first-line {\n    font-size: 14px;\n    font-weight: 500;\n    margin-bottom: 2px;\n    line-height: 1;\n}\n\n.second-line {\n    font-size: 16px;\n    line-height: 1;\n}\n\n.arrow-icon {\n    font-size: 20px;\n    font-weight: bold;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n}\n\n@media (max-width: 768px) {\n  .date-strip-container {\n    width: 100%;\n    height: auto;\n  }\n  \n  .dates-container {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n  \n  .date-item {\n    height: auto;\n    width: auto;\n    min-width: 60px;\n    text-align: center;\n  }\n  \n  .date-item.selected {\n    width: 187px !important;\n  }\n  \n}\n\n@media (max-width: 390px) {\n  .date-strip-container {\n    width: 100%;\n  }\n  \n  .date-item {\n    padding: 5px 8px;\n    font-size: 12px;\n    min-width: 50px;\n  }\n  \n  .first-line {\n    font-size: 12px;\n  }\n\n  .date-item.selected {\n    width: 75px !important;\n  }\n  \n  .second-line {\n    font-size: 14px;\n  }\n}",""]);const c=i},375:(n,e,t)=>{n.exports=t.p+"770a8fca674a3550e241.woff"},449:(n,e,t)=>{n.exports=t.p+"10952ea0fbd7cb93977f.ttf"},450:(n,e,t)=>{n.exports=t.p+"images/dot.723ceced2b6b30dff558.png"},466:(n,e,t)=>{t.d(e,{A:()=>m});var r=t(601),a=t.n(r),o=t(314),i=t.n(o),c=t(417),l=t.n(c),s=new URL(t(491),t.b),p=new URL(t(450),t.b),u=i()(a()),f=l()(s),d=l()(p);u.push([n.id,`.booking-container {\n  max-width: 990px;\n  margin: 0 auto;\n  font-family: 'Roboto', sans-serif;\n  background: rgba(241, 235, 230, 0.95);\n  padding-bottom: 20px;\n  border-radius: 2px;\n}\n\n.booking-movie-info {\n  padding: 15px;\n  margin: 0;\n  background: white;\n}\n\n.booking-movie-info h2 {\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 18px;\n  color: #000000;\n  margin-bottom: 7px;\n}\n\n.booking-movie-info p {\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 16px;\n  color: #000000;\n  margin: 5px 0;\n}\n\n.cinema-hall {\n  padding: 20px;\n  background: #171D24;\n}\n\n.screen {\n  width: 80%;\n  height: 30px;\n  margin: 0 auto 40px;\n  background: url(${f}) center/contain no-repeat;\n  text-align: center;\n  line-height: 30px;\n  font-weight: bold;\n  color: #333;\n  text-shadow: 0 0 5px rgba(255,255,255,0.5);\n}\n\n.seats-grid {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n  margin-bottom: 30px;\n}\n\n.seats-row {\n  display: flex;\n  gap: 4px;\n}\n\n.seat {\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n  background: transparent;\n  border: 1px solid #525252;\n}\n\n.seat-available {\n  background: #FFFFFF;\n}\n\n.seat-vip {\n  background: #F9953A;\n}\n\n.seat-selected {\n  background: #25C4CE;\n  box-shadow: 0px 0px 4px #16A6AF;\n  border: 1px solid #525252;\n  width: 20px;\n  height: 20px;\n  margin: 0;\n}\n\n.seat-occupied {\n  background: transparent;\n  cursor: default;\n}\n\n.seat-none {\n  background: transparent;\n  border: 1px solid #525252;\n  cursor: default;\n  visibility: hidden\n}\n\n.hall-info {\n  margin-top: 30px;\n}\n\n.legend-grid {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  gap: 30px;\n  max-width: 930px;\n  margin: 0 auto;\n  padding-top: 30px;\n}\n\n.legend-col {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.legend-item span {\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 16px;\n  color: #FFFFFF;\n}\n\n.booking-actions {\n  text-align: center;\n  margin-top: 30px;\n  padding-top: 20px;\n}\n\n.book-button {\n  background: #16A6AF;\n  color: white;\n  border: none;\n  padding: 12px 57px;\n  border-radius: 3px;\n  cursor: pointer;\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-transform: uppercase;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  transition: background 0.3s;\n}\n\n.book-button:hover {\n  background: #13949c;\n}\n\n.loading, .error {\n  text-align: center;\n  padding: 20px;\n  font-family: 'Roboto', sans-serif;\n}\n\n.confirmation-container {\n  max-width: 990px;\n  margin: 0 auto;\n  font-family: 'Roboto', sans-serif;\n  position: relative;\n  box-sizing: border-box;\n}\n\n.confirmation-header {\n  padding: 25px 15px;\n  position: relative;\n    background: rgba(241, 235, 230, 0.95);\n  z-index:1;\n  margin-bottom: 0px;\n}\n\n.confirmation-content {\n  padding: 0 15px;\n  position: relative;\n  background: rgba(241, 235, 230, 0.95);\n  z-index: 1;\n  padding-bottom: 20px;\n  margin-top: -8px;\n}\n\n.confirmation-header::before,\n.confirmation-header::after,\n.confirmation-content::before,\n.confirmation-content::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background: transparent url(${d}) 0 0 repeat-x;\n  background-size: 10px 4px;\n  z-index: 2;\n  image-rendering: crisp-edges;\n  image-rendering: pixelated;\n  pointer-events: none;\n}\n\n.confirmation-header::after,\n.confirmation-content::after {\n  transform: rotate(180deg);\n  background-position: -1px 0;\n}\n\n.confirmation-header::before {\n  top: -3px;\n}\n\n.confirmation-header::after {\n  bottom: -3px;\n}\n\n.confirmation-content::before {\n  top: -3px;\n}\n\n.confirmation-content::after {\n  bottom: -3px;\n}\n\n.ticket-info p {\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 18px;\n  color: #000000;\n  margin: 14px 0;\n}\n\n.get-code-button {\n  background: #16A6AF;\n  color: white;\n  border: none;\n  padding: 12px 57px;\n  border-radius: 3px;\n  cursor: pointer;\n  font-family: 'Roboto';\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-transform: uppercase;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  display: block;\n  margin: 40px auto;\n  width: 337px;\n  height: 40px;\n}\n\n.confirmation-footer {\n  margin: 60px 0 20px;\n}\n\n.confirmation-footer p {\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 16px;\n  color: #000000;\n  margin: 8px 0;\n}\n\n.confirmation-footer p:first-child {\n  margin-bottom: 16px;\n}\n\n@media (max-width: 768px) {\n  .booking-container {\n    width: 100%;\n  }\n  \n  .screen {\n    width: 90%;\n  }\n  \n  .legend-grid {\n    flex-direction: column;\n    align-items: center;\n  }\n}\n\n@media (max-width: 390px) {\n  .seat {\n    width: 15px;\n    height: 15px;\n  }\n  \n  .get-code-button {\n    margin: 20px auto;\n  }\n}`,""]);const m=u},491:(n,e,t)=>{n.exports=t.p+"images/screen.bbf1a0714eb080305407.png"},618:(n,e,t)=>{n.exports=t.p+"images/bg.8057f0e543a33be5a896.jpg"},784:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,".movie-section {\n  width: 100%;\n  background: rgba(241, 235, 230, 0.95);\n  border-radius: 2px;\n  margin-bottom: 30px;\n  padding: 15px;\n  box-sizing: border-box;\n}\n\n.movie__info {\n  display: flex;\n  gap: 20px;\n  margin-bottom: 20px;\n}\n\n.movie__poster {\n  position: relative;\n  flex-shrink: 0;\n  z-index: 1;\n}\n\n.movie__poster-image {\n  width: 125px;\n  height: 175px;\n  object-fit: cover;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 2;\n}\n\n.movie__poster::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: -10px;\n  background-color: #393939;\n  width: 3px;\n  height: 5px;\n  border-width: 14.4px 0px 0px 6.4px;\n  border-style: solid;\n  border-color: #393939;\n  z-index: -1;\n}\n\n.movie__description {\n  flex: 1;\n}\n\n.movie__title {\n  margin: 0 0 10px 0;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 700;\n  font-size: 18px;\n  color: #333;\n}\n\n.movie__synopsis-text {\n  margin: 0 0 10px 0;\n  font-weight: 400;\n  font-family: 'Roboto', sans-serif;\n  font-size: 14px;\n  line-height: 16px;\n}\n\n.movie__data {\n  display: flex;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.movie__duration,\n.movie__country {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 300;\n  font-size: 14px;\n  color: #000;\n}\n\n.movie-seances__hall {\n  margin-top: 20px;\n}\n\n.movie-seances__hall--second {\n  margin-top: 30px;\n}\n\n.hall__name {\n  margin: 0 0 10px 0;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  color: #333;\n}\n\n.hall__sessions {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.session-item {\n  width: 53px;\n  height: 33px;\n}\n\n.session-link {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-family: 'Roboto', sans-serif;\n  font-size: 14px;\n  color: #000;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.session-link:hover {\n  background: #f8f8f8;\n  border-color: #4a6bff;\n  color: #4a6bff;\n}\n\n.session-link.passed {\n  opacity: 0.5;\n  cursor: not-allowed;\n  text-decoration: line-through;\n  color: #999;\n  background: #f0f0f0;\n  border-color: #ccc;\n}\n\n@media (max-width: 768px) {\n  .movie-section {\n    width: 100%;\n    padding: 10px;\n  }\n  \n  .movie__info {\n    align-items: center;\n  }\n  \n  .movie__poster {\n    margin-bottom: 15px;\n  } \n\n  .container {\n    width: 100%;\n    padding: 0px;\n  }\n}\n\n@media (max-width: 390px) {\n  .movie-section {\n    padding: 8px;\n  }\n  \n  .movie__poster-image {\n    width: 90px;\n    height: 126px;\n  }\n  \n  .session-item {\n    width: 36px;\n    height: 22px;\n  }\n  \n  .session-link {\n    font-size: 11px;\n  }\n}",""]);const c=i},915:(n,e,t)=>{var r=t(540),a=t(338),o=t(976),i=t(767);function c(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return l(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}const s=function(n){var e=n.onDateSelect,t=c((0,r.useState)([]),2),a=t[0],o=t[1],i=c((0,r.useState)(null),2),l=i[0],s=i[1],p=c((0,r.useState)(0),2),u=p[0],f=p[1],d=(0,r.useRef)(null);(0,r.useEffect)(function(){for(var n=new Date,t=[],r=0;r<6;r++){var a=new Date(n);a.setDate(n.getDate()+r+u),t.push(a)}if(o(t),!l||!t.some(function(n){return n.toDateString()===l.toDateString()})){var i=t[0];s(i),e(i)}},[u,e,l]);var m=function(n){if(window.innerWidth<=390&&n)return 75;if(window.innerWidth<=768&&n)return 187;var e=d.current;if(!e)return n?240:150;var t=e.getBoundingClientRect().width-6;if(n){var r=(t-240)/6;return Math.max(240,1.5*r)}return(t-240)/6};return r.createElement("div",{className:"date-strip-container"},r.createElement("div",{className:"dates-container",ref:d},a.map(function(n,t){var a=function(n){var e=new Date,t=n.toDateString()===e.toDateString(),r=0===n.getDay()||6===n.getDay(),a=t&&0===u;return{dayName:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"][n.getDay()],dayNumber:n.getDate(),isToday:t,isWeekend:r,isTodayWithOffset:a}}(n),o=a.dayName,i=a.dayNumber,c=a.isTodayWithOffset,p=a.isWeekend,f=(null==l?void 0:l.toDateString())===n.toDateString(),d=p?"red":"inherit";return r.createElement("div",{key:t,className:"date-item ".concat(f?"selected":""),onClick:function(){return function(n){s(n),e(n)}(n)},style:{width:"".concat(m(f),"px"),height:f?"54px":"48px",marginRight:"1px",flexShrink:0}},r.createElement("div",{className:"date-line first-line",style:{color:d}},c?"Сегодня":o),r.createElement("div",{className:"date-line second-line",style:{color:d}},c?"".concat(o,", ").concat(i):i))}),r.createElement("div",{className:"date-item arrow",onClick:function(){return f(function(n){return n+1})},style:{width:"".concat(m(!1),"px"),height:"48px",flexShrink:0}},r.createElement("div",{className:"arrow-icon"},">"))))};var p=t(72),u=t.n(p),f=t(825),d=t.n(f),m=t(659),h=t.n(m),g=t(56),b=t.n(g),x=t(159),v=t.n(x),y=t(113),w=t.n(y),_=t(285),E={};function k(n){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(n)}function N(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function S(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?N(Object(t),!0).forEach(function(e){F(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function F(n,e,t){return(e=function(n){var e=function(n){if("object"!=k(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=k(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==k(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return j(s,"_invoke",function(t,r,a){var o,c,l,s=0,p=a||[],u=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return o=e,c=0,l=n,f.n=t,i}};function d(t,r){for(c=t,l=r,e=0;!u&&s&&!a&&e<p.length;e++){var a,o=p[e],d=f.p,m=o[2];t>3?(a=m===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=d&&((a=t<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,c=0))}if(a||t>1)return i;throw u=!0,r}return function(a,p,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===p&&d(p,m),c=p,l=m;(e=c<2?n:l)||!u;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(u=f.n<0)?l:t.call(r,f))!==i)break}catch(e){o=n,c=1,l=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(j(e={},r,function(){return this}),e),u=s.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,j(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=s,j(u,"constructor",s),j(s,"constructor",l),l.displayName="GeneratorFunction",j(s,a,"GeneratorFunction"),j(u),j(u,a,"Generator"),j(u,r,function(){return this}),j(u,"toString",function(){return"[object Generator]"}),(O=function(){return{w:o,m:f}})()}function j(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}j=function(n,e,t,r){if(e)a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t;else{var o=function(e,t){j(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},j(n,e,t,r)}function A(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}function P(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){A(o,r,a,i,c,"next",n)}function c(n){A(o,r,a,i,c,"throw",n)}i(void 0)})}}function z(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}E.styleTagTransform=w(),E.setAttributes=b(),E.insert=h().bind(null,"head"),E.domAPI=d(),E.insertStyleElement=v(),u()(_.A,E),_.A&&_.A.locals&&_.A.locals;const C=function(n){var e=n.selectedDate,t=n.formattedDate,a=n.movies,o=n.halls,c=n.seances,l=(0,i.Zp)(),s=function(n,e){if(!n||!e)return!1;try{var t=new Date,r=new Date(n),a=(c=e.split(":").map(Number),l=2,function(n){if(Array.isArray(n))return n}(c)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(c,l)||function(n,e){if(n){if("string"==typeof n)return z(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(n,e):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];return!isNaN(o)&&!isNaN(i)&&(r.setHours(o,i,0,0),r<t)}catch(n){return console.error("Error checking if seance passed:",n),!1}var c,l},p=function(){var n=P(O().m(function n(e){var r,a,o,i;return O().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("https://shfe-diplom.neto-server.ru/hallconfig?seanceId=".concat(e,"&date=").concat(t));case 1:if((r=n.v).ok){n.n=2;break}throw new Error("HTTP error! status: ".concat(r.status));case 2:return n.n=3,r.json();case 3:if(!(a=n.v).success){n.n=4;break}return o=[],a.result.forEach(function(n,e){n.forEach(function(n,t){"taken"===n&&o.push({row:e+1,place:t+1})})}),n.a(2,o);case 4:throw new Error(a.error||"Failed to get occupied seats");case 5:throw n.p=5,i=n.v,console.error("Error fetching occupied seats:",i),i;case 6:return n.a(2)}},n,null,[[0,5]])}));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=P(O().m(function n(e,r,a){var o,i;return O().w(function(n){for(;;)switch(n.p=n.n){case 0:if(t){n.n=1;break}return console.error("Дата не определена, используем текущую дату"),(new Date).toISOString().split("T")[0],n.a(2);case 1:return n.p=1,n.n=2,p(a.seanceId);case 2:o=n.v,l("/booking",{state:{movie:e,hall:S(S({},r),{},{hall_price_standart:r.hallPriceStandart,hall_price_vip:r.hallPriceVip}),session:{seanceId:a.seanceId,time:a.time,date:t,occupiedSeats:o}}}),n.n=4;break;case 3:n.p=3,i=n.v,console.error("Session selection error:",i),alert("Не удалось загрузить сеанс: ".concat(i.message));case 4:return n.a(2)}},n,null,[[1,3]])}));return function(e,t,r){return n.apply(this,arguments)}}();return e?0===a.length?r.createElement("div",{className:"no-movies"},"На выбранную дату сеансов нет"):r.createElement("div",{className:"container"},a.map(function(n){var t,a=(t=n.id,e?c.filter(function(n){return n.seance_filmid===t}).reduce(function(n,t){var r=o.find(function(n){return n.id===t.seance_hallid});if(!r||1!==r.hall_open)return n;var a=n.find(function(n){return n.hallId===r.id});return a?a.times.push({time:t.seance_time,seanceId:t.id,isPassed:s(e,t.seance_time)}):n.push({hallId:r.id,hallName:r.hall_name,hallConfig:r.hall_config,hallPriceStandart:r.hall_price_standart||0,hallPriceVip:r.hall_price_vip||0,times:[{time:t.seance_time,seanceId:t.id,isPassed:s(e,t.seance_time)}]}),n},[]):[]);return 0===a.length?null:r.createElement("div",{key:n.id,className:"movie-section"},r.createElement("div",{className:"movie__info"},r.createElement("div",{className:"movie__poster"},r.createElement("img",{src:n.film_poster,alt:n.film_name,className:"movie__poster-image",onError:function(n){n.target.src="/img/default-poster.jpg"}})),r.createElement("div",{className:"movie__description"},r.createElement("div",{className:"movie__heading"},r.createElement("h2",{className:"movie__title"},n.film_name)),r.createElement("div",{className:"movie__synopsis"},r.createElement("p",{className:"movie__synopsis-text"},n.film_description||"Описание отсутствует")),r.createElement("div",{className:"movie__data"},r.createElement("span",{className:"movie__duration"},n.film_duration," мин."),r.createElement("span",{className:"movie__country"},n.film_origin)))),a.map(function(e,t){return r.createElement("div",{key:t,className:"movie-seances__hall ".concat(1===t?"movie-seances__hall--second":"")},r.createElement("div",{className:"hall__heading"},r.createElement("h3",{className:"hall__name"},e.hallName)),r.createElement("div",{className:"hall__sessions"},e.times.map(function(t,a){return r.createElement("div",{key:a,className:"session-item"},r.createElement("div",{className:"session-link ".concat(t.isPassed?"passed":""),onClick:function(){return!t.isPassed&&u(n,{id:e.hallId,hall_name:e.hallName,hall_config:e.hallConfig,hallPriceStandart:e.hallPriceStandart,hallPriceVip:e.hallPriceVip},t)}},r.createElement("span",{className:"session-time-text"},t.time)))})))}))})):r.createElement("div",{className:"no-date"},"Выберите дату для просмотра расписания")};function T(n){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T(n)}function I(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function D(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?I(Object(t),!0).forEach(function(e){R(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function R(n,e,t){return(e=function(n){var e=function(n){if("object"!=T(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=T(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==T(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function G(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return L(s,"_invoke",function(t,r,a){var o,c,l,s=0,p=a||[],u=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return o=e,c=0,l=n,f.n=t,i}};function d(t,r){for(c=t,l=r,e=0;!u&&s&&!a&&e<p.length;e++){var a,o=p[e],d=f.p,m=o[2];t>3?(a=m===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=d&&((a=t<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,c=0))}if(a||t>1)return i;throw u=!0,r}return function(a,p,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===p&&d(p,m),c=p,l=m;(e=c<2?n:l)||!u;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(u=f.n<0)?l:t.call(r,f))!==i)break}catch(e){o=n,c=1,l=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(L(e={},r,function(){return this}),e),u=s.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,L(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=s,L(u,"constructor",s),L(s,"constructor",l),l.displayName="GeneratorFunction",L(s,a,"GeneratorFunction"),L(u),L(u,a,"Generator"),L(u,r,function(){return this}),L(u,"toString",function(){return"[object Generator]"}),(G=function(){return{w:o,m:f}})()}function L(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}L=function(n,e,t,r){if(e)a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t;else{var o=function(e,t){L(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},L(n,e,t,r)}function U(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}function B(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){U(o,r,a,i,c,"next",n)}function c(n){U(o,r,a,i,c,"throw",n)}i(void 0)})}}var M="https://shfe-diplom.neto-server.ru/",$=function(){var n=B(G().m(function n(){var e,t,r;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(M,"alldata"));case 1:return e=n.v,n.n=2,e.json();case 2:if(!(t=n.v).success){n.n=3;break}return n.a(2,t.result);case 3:throw new Error(t.error||"Failed to fetch data");case 4:throw n.p=4,r=n.v,console.error("Error fetching all data:",r),r;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(){return n.apply(this,arguments)}}(),H=function(){var n=B(G().m(function n(e,t){var r,a,o,i;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,(r=new FormData).append("login",e),r.append("password",t),n.n=1,fetch("".concat(M,"login"),{method:"POST",body:r});case 1:return a=n.v,n.n=2,a.json();case 2:if(!(o=n.v).success){n.n=3;break}return n.a(2,o.result);case 3:throw new Error(o.error||"Login failed");case 4:throw n.p=4,i=n.v,console.error("Login error:",i),i;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e,t){return n.apply(this,arguments)}}(),q=function(){var n=B(G().m(function n(e){var t,r,a,o;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,(t=new FormData).append("hallName",e),n.n=1,fetch("".concat(M,"hall"),{method:"POST",body:t});case 1:return r=n.v,n.n=2,r.json();case 2:if(!(a=n.v).success){n.n=3;break}return n.a(2,a.result.halls);case 3:throw new Error(a.error||"Failed to create hall");case 4:throw n.p=4,o=n.v,console.error("Create hall error:",o),o;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e){return n.apply(this,arguments)}}(),W=function(){var n=B(G().m(function n(e){var t,r,a;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(M,"hall/").concat(e),{method:"DELETE"});case 1:return t=n.v,n.n=2,t.json();case 2:if(!(r=n.v).success){n.n=3;break}return n.a(2,r.result);case 3:throw new Error(r.error||"Failed to delete hall");case 4:throw n.p=4,a=n.v,console.error("Delete hall error:",a),a;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e){return n.apply(this,arguments)}}(),J=function(){var n=B(G().m(function n(e,t,r,a){var o,i,c,l;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,(o=new FormData).append("rowCount",t),o.append("placeCount",r),o.append("config",JSON.stringify(a)),n.n=1,fetch("".concat(M,"hall/").concat(e),{method:"POST",body:o});case 1:return i=n.v,n.n=2,i.json();case 2:if(!(c=n.v).success){n.n=3;break}return n.a(2,c.result);case 3:throw new Error(c.error||"Failed to update hall config");case 4:throw n.p=4,l=n.v,console.error("Update hall config error:",l),l;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e,t,r,a){return n.apply(this,arguments)}}(),V=function(){var n=B(G().m(function n(e,t,r){var a,o,i,c;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,a=new FormData,null!=t&&a.append("priceStandart",t.toString()),null!=r&&a.append("priceVip",r.toString()),n.n=1,fetch("".concat(M,"price/").concat(e),{method:"POST",body:a});case 1:if((o=n.v).ok){n.n=2;break}throw new Error("HTTP error! status: ".concat(o.status));case 2:return n.n=3,o.json();case 3:if(null!=(i=n.v)&&i.success){n.n=4;break}throw new Error((null==i?void 0:i.error)||"Ошибка сервера при обновлении цен");case 4:return n.a(2,i.result);case 5:throw n.p=5,c=n.v,console.error("Update prices error:",{hallId:e,priceStandart:t,priceVip:r,error:c.message}),c;case 6:return n.a(2)}},n,null,[[0,5]])}));return function(e,t,r){return n.apply(this,arguments)}}(),Z=function(){var n=B(G().m(function n(e,t){var r,a,o,i,c;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,(r=new FormData).append("hallOpen",t.toString()),n.n=1,fetch("".concat(M,"open/").concat(e),{method:"POST",body:r});case 1:if((a=n.v).ok){n.n=2;break}throw new Error("HTTP error! status: ".concat(a.status));case 2:return n.n=3,a.json();case 3:if(null!=(o=n.v)&&o.success){n.n=4;break}throw new Error((null==o?void 0:o.error)||"Ошибка сервера");case 4:return i=D(D({},o.result),{},{hall_open:Number(o.result.hall_open)}),n.a(2,i);case 5:throw n.p=5,c=n.v,console.error("Toggle hall sales failed:",{hallId:e,hallOpen:t,error:c.message}),c;case 6:return n.a(2)}},n,null,[[0,5]])}));return function(e,t){return n.apply(this,arguments)}}(),Y=function(){var n=B(G().m(function n(e,t){var r,a,o,i,c;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:if(n.p=0,(r=new FormData).append("filmName",e.film_name||e.name),r.append("filmDuration",e.film_duration||e.duration),r.append("filmDescription",e.film_description||e.description||""),r.append("filmOrigin",e.film_origin||e.country||""),!t){n.n=3;break}if("image/png"===t.type){n.n=1;break}throw new Error("Файл должен быть в формате PNG");case 1:if(!(t.size>3145728)){n.n=2;break}throw new Error("Размер файла не должен превышать 3MB");case 2:r.append("filePoster",t),n.n=4;break;case 3:a=new Blob([],{type:"image/png"}),r.append("filePoster",a,"default.png");case 4:return n.n=5,fetch("".concat(M,"film"),{method:"POST",body:r});case 5:return o=n.v,n.n=6,o.json();case 6:if(!(i=n.v).success){n.n=7;break}return n.a(2,i.result.films);case 7:throw new Error(i.error||"Failed to create film");case 8:throw n.p=8,c=n.v,console.error("Create film error:",c),c;case 9:return n.a(2)}},n,null,[[0,8]])}));return function(e,t){return n.apply(this,arguments)}}(),K=function(){var n=B(G().m(function n(e){var t,r,a;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(M,"film/").concat(e),{method:"DELETE"});case 1:return t=n.v,n.n=2,t.json();case 2:if(!(r=n.v).success){n.n=3;break}return n.a(2,r.result);case 3:throw new Error(r.error||"Failed to delete film");case 4:throw n.p=4,a=n.v,console.error("Delete film error:",a),a;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e){return n.apply(this,arguments)}}(),Q=function(){var n=B(G().m(function n(e,t,r){var a,o,i,c;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,(a=new FormData).append("seanceHallid",e),a.append("seanceFilmid",t),a.append("seanceTime",r),n.n=1,fetch("".concat(M,"seance"),{method:"POST",body:a});case 1:return o=n.v,n.n=2,o.json();case 2:if(!(i=n.v).success){n.n=3;break}return n.a(2,i.result.seances);case 3:throw new Error(i.error||"Failed to create seance");case 4:throw n.p=4,c=n.v,console.error("Create seance error:",c),c;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e,t,r){return n.apply(this,arguments)}}(),X=function(){var n=B(G().m(function n(e){var t,r,a;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(M,"seance/").concat(e),{method:"DELETE"});case 1:return t=n.v,n.n=2,t.json();case 2:if(!(r=n.v).success){n.n=3;break}return n.a(2,r.result.seances);case 3:throw new Error(r.error||"Failed to delete seance");case 4:throw n.p=4,a=n.v,console.error("Delete seance error:",a),a;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e){return n.apply(this,arguments)}}(),nn=function(){var n=B(G().m(function n(e,t){var r,a,o;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(M,"hallconfig?seanceId=").concat(e,"&date=").concat(t));case 1:return r=n.v,n.n=2,r.json();case 2:if(!(a=n.v).success){n.n=3;break}return n.a(2,a.result);case 3:throw new Error(a.error||"Failed to get hall config");case 4:throw n.p=4,o=n.v,console.error("Get hall config error:",o),o;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(e,t){return n.apply(this,arguments)}}(),en=function(){var n=B(G().m(function n(e,t,r){var a,o,i,c,l;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:if(n.p=0,e&&t&&r&&Array.isArray(r)){n.n=1;break}throw new Error("Неверные параметры бронирования");case 1:return a=r.map(function(n){if(isNaN(n.row)||isNaN(n.place)||isNaN(n.coast))throw new Error("Некорректные данные билета: ".concat(JSON.stringify(n)));return{row:parseInt(n.row),place:parseInt(n.place),coast:parseInt(n.coast)}}),(o=new URLSearchParams).append("seanceId",e.toString()),o.append("ticketDate",t),o.append("tickets",JSON.stringify(a)),n.n=2,fetch("".concat(M,"ticket"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o});case 2:if((i=n.v).ok){n.n=3;break}throw new Error("HTTP error! status: ".concat(i.status));case 3:return n.n=4,i.json();case 4:if(null!=(c=n.v)&&c.success){n.n=5;break}throw new Error((null==c?void 0:c.error)||"Ошибка сервера при бронировании");case 5:return n.a(2,c.result.tickets);case 6:throw n.p=6,l=n.v,console.error("Booking error details:",{seanceId:e,date:t,tickets:r,error:l.message}),l;case 7:return n.a(2)}},n,null,[[0,6]])}));return function(e,t,r){return n.apply(this,arguments)}}(),tn=function(){var n=B(G().m(function n(e,t){var r,a,o,i,c,l,s,p,u;return G().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.p=1,n.n=2,nn(e,t);case 2:return r=n.v,n.a(2,{seanceId:e,config:r});case 3:return n.p=3,n.v,console.log("Сеанс не найден, создаем новый..."),n.n=4,fetch("".concat(M,"seance/").concat(e));case 4:return a=n.v,n.n=5,a.json();case 5:if((o=n.v).success){n.n=6;break}throw new Error(o.error||"Ошибка получения данных сеанса");case 6:return i=o.result,n.n=7,fetch("".concat(M,"seance"),{method:"POST",body:new URLSearchParams({seanceHallid:i.seance_hallid,seanceFilmid:i.seance_filmid,seanceTime:i.seance_time})});case 7:return c=n.v,n.n=8,c.json();case 8:if((l=n.v).success){n.n=9;break}throw new Error(l.error||"Ошибка создания нового сеанса");case 9:return s=l.result.seances[0].id,n.n=10,nn(s,t);case 10:return p=n.v,n.a(2,{seanceId:s,config:p});case 11:throw n.p=11,u=n.v,console.error("Error in getOrCreateSeance:",u),u;case 12:return n.a(2)}},n,null,[[1,3],[0,11]])}));return function(e,t){return n.apply(this,arguments)}}();function rn(n){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rn(n)}function an(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return on(s,"_invoke",function(t,r,a){var o,c,l,s=0,p=a||[],u=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return o=e,c=0,l=n,f.n=t,i}};function d(t,r){for(c=t,l=r,e=0;!u&&s&&!a&&e<p.length;e++){var a,o=p[e],d=f.p,m=o[2];t>3?(a=m===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=d&&((a=t<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,c=0))}if(a||t>1)return i;throw u=!0,r}return function(a,p,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===p&&d(p,m),c=p,l=m;(e=c<2?n:l)||!u;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(u=f.n<0)?l:t.call(r,f))!==i)break}catch(e){o=n,c=1,l=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(on(e={},r,function(){return this}),e),u=s.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,on(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=s,on(u,"constructor",s),on(s,"constructor",l),l.displayName="GeneratorFunction",on(s,a,"GeneratorFunction"),on(u),on(u,a,"Generator"),on(u,r,function(){return this}),on(u,"toString",function(){return"[object Generator]"}),(an=function(){return{w:o,m:f}})()}function on(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}on=function(n,e,t,r){if(e)a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t;else{var o=function(e,t){on(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},on(n,e,t,r)}function cn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function ln(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?cn(Object(t),!0).forEach(function(e){sn(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cn(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function sn(n,e,t){return(e=function(n){var e=function(n){if("object"!=rn(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=rn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==rn(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pn(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}function un(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return fn(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}const dn=function(){var n=un((0,r.useState)(new Date),2),e=n[0],t=n[1],a=un((0,r.useState)((new Date).toISOString().split("T")[0]),2),o=a[0],i=a[1],c=un((0,r.useState)([]),2),l=c[0],p=c[1],u=un((0,r.useState)([]),2),f=u[0],d=u[1],m=un((0,r.useState)([]),2),h=m[0],g=m[1],b=un((0,r.useState)(!0),2),x=b[0],v=b[1],y=un((0,r.useState)(null),2),w=y[0];return y[1],(0,r.useEffect)(function(){var n=function(){var n,e=(n=an().m(function n(){var e,t;return an().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,$();case 1:e=n.v,p(e.films),d(e.halls.map(function(n){return ln(ln({},n),{},{hall_price_standart:n.hall_price_standart||0,hall_price_vip:n.hall_price_vip||0})})),g(e.seances),v(!1),n.n=3;break;case 2:n.p=2,t=n.v,console.error("Ошибка загрузки данных:",t),alert("Не удалось загрузить данные. Пожалуйста, попробуйте позже."),v(!1);case 3:return n.a(2)}},n,null,[[0,2]])}),function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){pn(o,r,a,i,c,"next",n)}function c(n){pn(o,r,a,i,c,"throw",n)}i(void 0)})});return function(){return e.apply(this,arguments)}}();n()},[]),x?r.createElement("div",{className:"loading"},"Загрузка данных..."):w?r.createElement("div",{className:"error"},w):r.createElement("div",{className:"cinema-schedule"},r.createElement(s,{onDateSelect:function(n,e){t(n),i(e||n.toISOString().split("T")[0])}}),r.createElement(C,{selectedDate:e,formattedDate:o,movies:l,halls:f,seances:h}))};var mn=t(466),hn={};function gn(n){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gn(n)}function bn(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return xn(s,"_invoke",function(t,r,a){var o,c,l,s=0,p=a||[],u=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return o=e,c=0,l=n,f.n=t,i}};function d(t,r){for(c=t,l=r,e=0;!u&&s&&!a&&e<p.length;e++){var a,o=p[e],d=f.p,m=o[2];t>3?(a=m===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=d&&((a=t<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,c=0))}if(a||t>1)return i;throw u=!0,r}return function(a,p,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===p&&d(p,m),c=p,l=m;(e=c<2?n:l)||!u;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(u=f.n<0)?l:t.call(r,f))!==i)break}catch(e){o=n,c=1,l=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(xn(e={},r,function(){return this}),e),u=s.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,xn(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=s,xn(u,"constructor",s),xn(s,"constructor",l),l.displayName="GeneratorFunction",xn(s,a,"GeneratorFunction"),xn(u),xn(u,a,"Generator"),xn(u,r,function(){return this}),xn(u,"toString",function(){return"[object Generator]"}),(bn=function(){return{w:o,m:f}})()}function xn(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}xn=function(n,e,t,r){if(e)a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t;else{var o=function(e,t){xn(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},xn(n,e,t,r)}function vn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function yn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(t),!0).forEach(function(e){wn(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function wn(n,e,t){return(e=function(n){var e=function(n){if("object"!=gn(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=gn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==gn(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _n(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}function En(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){_n(o,r,a,i,c,"next",n)}function c(n){_n(o,r,a,i,c,"throw",n)}i(void 0)})}}function kn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(n,e)||Nn(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(n,e){if(n){if("string"==typeof n)return Sn(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Sn(n,e):void 0}}function Sn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}hn.styleTagTransform=w(),hn.setAttributes=b(),hn.insert=h().bind(null,"head"),hn.domAPI=d(),hn.insertStyleElement=v(),u()(mn.A,hn),mn.A&&mn.A.locals&&mn.A.locals;const Fn=function(){var n=(0,i.zy)().state,e=n||{},t=e.movie,a=e.hall,o=e.session,c=(0,i.Zp)(),l=kn((0,r.useState)([]),2),s=l[0],p=l[1],u=kn((0,r.useState)(!1),2),f=(u[0],u[1]),d=kn((0,r.useState)([]),2),m=d[0],h=d[1],g=kn((0,r.useState)(!0),2),b=g[0],x=g[1],v=kn((0,r.useState)(null),2),y=v[0];v[1],(0,r.useEffect)(function(){var e=function(){var e=En(bn().m(function e(){var t,r,a,i;return bn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!=o&&o.seanceId&&null!=o&&o.date){e.n=1;break}return x(!1),e.a(2);case 1:return e.p=1,f(!0),x(!0),e.n=2,tn(o.seanceId,o.date);case 2:t=e.v,r=t.seanceId,a=t.config,r!==o.seanceId&&c(location.pathname,{state:yn(yn({},n),{},{session:yn(yn({},o),{},{seanceId:r})}),replace:!0}),p(a),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Ошибка загрузки зала:",i),alert("Не удалось загрузить схему зала"),c("/");case 4:return e.p=4,f(!1),x(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();e()},[o]);var w=function(n,e){if(!s[n]||!s[n][e])return"seat-none";var t=s[n][e];return"taken"===t?"seat-occupied":"disabled"===t?"seat-none":m.some(function(t){return t.row===n&&t.col===e})?"seat-selected":"vip"===t?"seat-vip":"seat-available"},_=function(){var n=En(bn().m(function n(){var e;return bn().w(function(n){for(;;)switch(n.p=n.n){case 0:if(0!==m.length){n.n=1;break}return alert("Выберите хотя бы одно место"),n.a(2);case 1:if(n.p=1,m.map(function(n){return{row:n.row+1,place:n.col+1,coast:n.price}}),null!=o&&o.date){n.n=2;break}throw new Error("Дата сеанса не указана");case 2:c("/booking-confirmation",{state:{movie:t,hall:a,session:o,selectedSeats:m}}),n.n=4;break;case 3:n.p=3,e=n.v,console.error("Ошибка бронирования:",e),alert("Не удалось забронировать места: "+e.message);case 4:return n.a(2)}},n,null,[[1,3]])}));return function(){return n.apply(this,arguments)}}();return b?r.createElement("div",{className:"loading"},"Загрузка схемы зала..."):y?r.createElement("div",{className:"error"},y):t&&a&&o?r.createElement("div",{className:"booking-container"},r.createElement("div",{className:"booking-movie-info"},r.createElement("h2",null,t.film_name),r.createElement("p",null,"Начало сеанса: ",r.createElement("strong",null,o.time)),r.createElement("p",null,"Зал: ",r.createElement("strong",null,a.hall_name))),r.createElement("div",{className:"cinema-hall"},r.createElement("div",{className:"screen"}),r.createElement("div",{className:"seats-grid"},s.map(function(n,e){return r.createElement("div",{key:e,className:"seats-row"},n.map(function(n,t){return r.createElement("div",{key:t,className:"seat ".concat(w(e,t)),onClick:function(){return function(n,e){if(s[n]&&s[n][e]){var t=s[n][e];if("taken"!==t&&"disabled"!==t){var r=function(n){if(Array.isArray(n))return Sn(n)}(c=m)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(c)||Nn(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r.findIndex(function(t){return t.row===n&&t.col===e});if(-1===o){var i="vip"===t?a.hall_price_vip||0:a.hall_price_standart||0;r.push({row:n,col:e,type:t,price:i})}else r.splice(o,1);h(r)}}var c}(e,t)}})}))})),r.createElement("div",{className:"hall-info"},r.createElement("div",{className:"legend-grid"},r.createElement("div",{className:"legend-col"},r.createElement("div",{className:"legend-item"},r.createElement("div",{className:"seat seat-available"}),r.createElement("span",null,"Свободно (",a.hall_price_standart," руб)")),r.createElement("div",{className:"legend-item"},r.createElement("div",{className:"seat seat-vip"}),r.createElement("span",null,"Свободно VIP (",a.hall_price_vip," руб)"))),r.createElement("div",{className:"legend-col"},r.createElement("div",{className:"legend-item"},r.createElement("div",{className:"seat seat-occupied"}),r.createElement("span",null,"Занято")),r.createElement("div",{className:"legend-item"},r.createElement("div",{className:"seat seat-selected"}),r.createElement("span",null,"Выбрано")))))),r.createElement("div",{className:"booking-actions"},r.createElement("button",{className:"book-button",onClick:_,disabled:0===m.length},"Забронировать",m.length>0&&" (".concat(m.reduce(function(n,e){return n+e.price},0)," руб)")))):r.createElement("div",{className:"error"},"Не удалось загрузить информацию о сеансе")};function On(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return jn(s,"_invoke",function(t,r,a){var o,c,l,s=0,p=a||[],u=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return o=e,c=0,l=n,f.n=t,i}};function d(t,r){for(c=t,l=r,e=0;!u&&s&&!a&&e<p.length;e++){var a,o=p[e],d=f.p,m=o[2];t>3?(a=m===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=d&&((a=t<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,c=0))}if(a||t>1)return i;throw u=!0,r}return function(a,p,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===p&&d(p,m),c=p,l=m;(e=c<2?n:l)||!u;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(u=f.n<0)?l:t.call(r,f))!==i)break}catch(e){o=n,c=1,l=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(jn(e={},r,function(){return this}),e),u=s.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,jn(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=s,jn(u,"constructor",s),jn(s,"constructor",l),l.displayName="GeneratorFunction",jn(s,a,"GeneratorFunction"),jn(u),jn(u,a,"Generator"),jn(u,r,function(){return this}),jn(u,"toString",function(){return"[object Generator]"}),(On=function(){return{w:o,m:f}})()}function jn(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}jn=function(n,e,t,r){if(e)a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t;else{var o=function(e,t){jn(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},jn(n,e,t,r)}function An(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}const Pn=function(){var n=(0,i.zy)().state,e=(0,i.Zp)(),t=n||{},a=t.movie,o=t.hall,c=t.session,l=t.selectedSeats,s=(null==l?void 0:l.reduce(function(n,e){return n+e.price},0))||0,p=function(){var n,t=(n=On().m(function n(){var t,r;return On().w(function(n){for(;;)switch(n.p=n.n){case 0:if(n.p=0,l&&0!==l.length){n.n=1;break}return alert("Нет выбранных мест для бронирования"),n.a(2);case 1:return t=l.map(function(n){return{row:n.row+1,place:n.col+1,coast:n.price}}),n.n=2,en(c.seanceId,c.date,t);case 2:e("/ticket",{state:{movie:a,hall:o,session:c,selectedSeats:l}}),n.n=4;break;case 3:n.p=3,r=n.v,console.error("Ошибка бронирования:",r),alert("Не удалось получить код бронирования: "+r.message);case 4:return n.a(2)}},n,null,[[0,3]])}),function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){An(o,r,a,i,c,"next",n)}function c(n){An(o,r,a,i,c,"throw",n)}i(void 0)})});return function(){return t.apply(this,arguments)}}();return r.createElement("div",{className:"confirmation-container"},r.createElement("div",{className:"confirmation-header"},r.createElement("h1",null,"Вы выбрали ",r.createElement("span",null,"билеты:"))),r.createElement("div",{className:"confirmation-content"},r.createElement("div",{className:"ticket-info"},r.createElement("p",null,"На фильм: ",r.createElement("strong",null,null==a?void 0:a.film_name)),r.createElement("p",null,"Места: ",null==l?void 0:l.map(function(n){return"".concat(n.col+1)}).join(", ")),r.createElement("p",null,"В зале: ",r.createElement("strong",null,null==o?void 0:o.hall_name)),r.createElement("p",null,"Начало сеанса: ",r.createElement("strong",null,null==c?void 0:c.time)),r.createElement("p",null,"Стоимость: ",r.createElement("strong",null,s," рублей"))),r.createElement("button",{className:"get-code-button",onClick:p},"ПОЛУЧИТЬ КОД БРОНИРОВАНИЯ"),r.createElement("div",{className:"confirmation-footer"},r.createElement("p",null,"После оплаты билет будет доступен в этом окне, а также придёт вам на почту. Покажите QR-код нашему контроллёру у входа в зал."),r.createElement("p",null,"Приятного просмотра!"))))};var zn=t(766),Cn=t(235),Tn={};Tn.styleTagTransform=w(),Tn.setAttributes=b(),Tn.insert=h().bind(null,"head"),Tn.domAPI=d(),Tn.insertStyleElement=v(),u()(Cn.A,Tn),Cn.A&&Cn.A.locals&&Cn.A.locals;const In=function(){var n=(0,i.zy)().state,e=((0,i.Zp)(),(0,r.useRef)(null)),t=n||{},a=t.movie,o=t.hall,c=t.session,l=t.selectedSeats;return(0,r.useEffect)(function(){if((null==l?void 0:l.length)>0&&e.current){var n={film:null==a?void 0:a.film_name,hall:null==o?void 0:o.hall_name,date:null==c?void 0:c.date,time:null==c?void 0:c.time,seats:l.map(function(n){return"Место ".concat(n.col+1)}).join(", "),price:l.reduce(function(n,e){return n+e.price},0)+" руб",bookingId:"BK-".concat(Date.now().toString().slice(-8)),notice:"Билет действителен строго на свой сеанс"};e.current.innerHTML="",zn.A.render({text:JSON.stringify(n),radius:.5,ecLevel:"H",fill:"#000000",background:"#ffffff",size:200},e.current)}},[a,o,c,l]),r.createElement("div",{className:"ticket-container"},r.createElement("div",{className:"ticket-header"},r.createElement("h2",null,"ЭЛЕКТРОННЫЙ БИЛЕТ")),r.createElement("div",{className:"ticket-content"},r.createElement("div",{className:"ticket-info"},r.createElement("p",null,r.createElement("strong",null,"Фильм:")," ",null==a?void 0:a.film_name),r.createElement("p",null,r.createElement("strong",null,"Места:")," ",null==l?void 0:l.map(function(n){return"".concat(n.col+1)}).join(", ")),r.createElement("p",null,r.createElement("strong",null,"Зал:")," ",null==o?void 0:o.hall_name),r.createElement("p",null,r.createElement("strong",null,"Дата:")," ",null==c?void 0:c.date),r.createElement("p",null,r.createElement("strong",null,"Время:")," ",null==c?void 0:c.time),r.createElement("p",null,r.createElement("strong",null,"Стоимость:")," ",null==l?void 0:l.reduce(function(n,e){return n+e.price},0)," руб")),r.createElement("div",{className:"ticket-qr",ref:e}),r.createElement("div",{className:"ticket-instructions"},r.createElement("p",null,"Покажите QR-код нашему контроллеру для подтверждения бронирования."),r.createElement("p",null,"Приятного просмотра!"))))};var Dn=t(944),Rn={};function Gn(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return Ln(s,"_invoke",function(t,r,a){var o,c,l,s=0,p=a||[],u=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return o=e,c=0,l=n,f.n=t,i}};function d(t,r){for(c=t,l=r,e=0;!u&&s&&!a&&e<p.length;e++){var a,o=p[e],d=f.p,m=o[2];t>3?(a=m===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=d&&((a=t<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,c=0))}if(a||t>1)return i;throw u=!0,r}return function(a,p,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===p&&d(p,m),c=p,l=m;(e=c<2?n:l)||!u;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(u=f.n<0)?l:t.call(r,f))!==i)break}catch(e){o=n,c=1,l=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(Ln(e={},r,function(){return this}),e),u=s.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,Ln(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=s,Ln(u,"constructor",s),Ln(s,"constructor",l),l.displayName="GeneratorFunction",Ln(s,a,"GeneratorFunction"),Ln(u),Ln(u,a,"Generator"),Ln(u,r,function(){return this}),Ln(u,"toString",function(){return"[object Generator]"}),(Gn=function(){return{w:o,m:f}})()}function Ln(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}Ln=function(n,e,t,r){if(e)a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t;else{var o=function(e,t){Ln(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},Ln(n,e,t,r)}function Un(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}function Bn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return Mn(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Mn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}Rn.styleTagTransform=w(),Rn.setAttributes=b(),Rn.insert=h().bind(null,"head"),Rn.domAPI=d(),Rn.insertStyleElement=v(),u()(Dn.A,Rn),Dn.A&&Dn.A.locals&&Dn.A.locals;const $n=function(n){var e=n.onLogin,t=Bn((0,r.useState)(""),2),a=t[0],o=t[1],i=Bn((0,r.useState)(""),2),c=i[0],l=i[1],s=Bn((0,r.useState)(""),2),p=s[0],u=s[1],f=function(){var n,t=(n=Gn().m(function n(t){return Gn().w(function(n){for(;;)switch(n.p=n.n){case 0:return t.preventDefault(),u(""),n.p=1,n.n=2,H(a,c);case 2:e(),n.n=4;break;case 3:n.p=3,n.v,u("Неверные учетные данные");case 4:return n.a(2)}},n,null,[[1,3]])}),function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){Un(o,r,a,i,c,"next",n)}function c(n){Un(o,r,a,i,c,"throw",n)}i(void 0)})});return function(n){return t.apply(this,arguments)}}();return r.createElement("div",{className:"auth-page"},r.createElement("div",{className:"auth-container"},r.createElement("div",{className:"auth-header"},r.createElement("h1",null,"ИДЁМВКИНО"),r.createElement("h2",null,"АВТОРИЗАЦИЯ")),p&&r.createElement("div",{className:"error-message"},p),r.createElement("form",{onSubmit:f},r.createElement("div",{className:"form-group-auth"},r.createElement("label",null,"Email:"),r.createElement("input",{type:"email",value:a,onChange:function(n){return o(n.target.value)},placeholder:"example@domain.xyz",required:!0})),r.createElement("div",{className:"form-group-auth"},r.createElement("label",null,"Пароль:"),r.createElement("input",{type:"password",value:c,onChange:function(n){return l(n.target.value)},required:!0})),r.createElement("button",{type:"submit",className:"auth-button"},"АВТОРИЗОВАТЬСЯ"))))};var Hn=t(16),qn={};qn.styleTagTransform=w(),qn.setAttributes=b(),qn.insert=h().bind(null,"head"),qn.domAPI=d(),qn.insertStyleElement=v(),u()(Hn.A,qn),Hn.A&&Hn.A.locals&&Hn.A.locals;var Wn=t(966),Jn={};function Vn(n){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vn(n)}function Zn(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=oe(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,a=function(){};return{s:a,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){c=!0,o=n},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}}function Yn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function Kn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(t),!0).forEach(function(e){Qn(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function Qn(n,e,t){return(e=function(n){var e=function(n){if("object"!=Vn(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=Vn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Vn(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xn(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return ne(s,"_invoke",function(t,r,a){var o,c,l,s=0,p=a||[],u=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return o=e,c=0,l=n,f.n=t,i}};function d(t,r){for(c=t,l=r,e=0;!u&&s&&!a&&e<p.length;e++){var a,o=p[e],d=f.p,m=o[2];t>3?(a=m===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=d&&((a=t<2&&d<o[1])?(c=0,f.v=r,f.n=o[1]):d<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,c=0))}if(a||t>1)return i;throw u=!0,r}return function(a,p,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===p&&d(p,m),c=p,l=m;(e=c<2?n:l)||!u;){o||(c?c<3?(c>1&&(f.n=-1),d(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(u=f.n<0)?l:t.call(r,f))!==i)break}catch(e){o=n,c=1,l=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(ne(e={},r,function(){return this}),e),u=s.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,ne(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=s,ne(u,"constructor",s),ne(s,"constructor",l),l.displayName="GeneratorFunction",ne(s,a,"GeneratorFunction"),ne(u),ne(u,a,"Generator"),ne(u,r,function(){return this}),ne(u,"toString",function(){return"[object Generator]"}),(Xn=function(){return{w:o,m:f}})()}function ne(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}ne=function(n,e,t,r){if(e)a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t;else{var o=function(e,t){ne(n,e,function(n){return this._invoke(e,t,n)})};o("next",0),o("throw",1),o("return",2)}},ne(n,e,t,r)}function ee(n){return function(n){if(Array.isArray(n))return ie(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||oe(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}function re(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){te(o,r,a,i,c,"next",n)}function c(n){te(o,r,a,i,c,"throw",n)}i(void 0)})}}function ae(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(n,e)||oe(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(n,e){if(n){if("string"==typeof n)return ie(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ie(n,e):void 0}}function ie(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}Jn.styleTagTransform=w(),Jn.setAttributes=b(),Jn.insert=h().bind(null,"head"),Jn.domAPI=d(),Jn.insertStyleElement=v(),u()(Wn.A,Jn),Wn.A&&Wn.A.locals&&Wn.A.locals;const ce=function(n){n.onLogout;var e,t,a=ae((0,r.useState)(null),2),o=a[0],i=a[1],c=ae((0,r.useState)(null),2),l=(c[0],c[1]),s=ae((0,r.useState)([]),2),p=s[0],u=s[1],f=ae((0,r.useState)([]),2),d=f[0],m=f[1],h=ae((0,r.useState)([]),2),g=h[0],b=h[1],x=ae((0,r.useState)([]),2),v=x[0],y=x[1],w=ae((0,r.useState)(!1),2),_=w[0],E=w[1],k=ae((0,r.useState)(""),2),N=k[0],S=k[1],F=ae((0,r.useState)(null),2),O=F[0],j=F[1],A=ae((0,r.useState)(10),2),P=A[0],z=A[1],C=ae((0,r.useState)(10),2),T=C[0],I=C[1],D=ae((0,r.useState)(""),2),R=D[0],G=D[1],L=ae((0,r.useState)(""),2),U=L[0],B=L[1],M=ae((0,r.useState)([]),2),H=M[0],nn=M[1],en=ae((0,r.useState)(null),2),tn=en[0],rn=en[1],an=ae((0,r.useState)(!0),2),on=an[0],cn=an[1],ln=ae((0,r.useState)(null),2),sn=ln[0],pn=ln[1],un=ae((0,r.useState)(null),2),fn=un[0],dn=un[1],mn=ae((0,r.useState)(!1),2),hn=mn[0],gn=mn[1],bn=ae((0,r.useState)(!1),2),xn=bn[0],vn=bn[1],yn=ae((0,r.useState)(!1),2),wn=yn[0],_n=yn[1],En=ae((0,r.useState)(!1),2),kn=En[0],Nn=En[1],Sn=ae((0,r.useState)(null),2),Fn=Sn[0],On=Sn[1],jn=ae((0,r.useState)(!1),2),An=jn[0],Pn=jn[1],zn=ae((0,r.useState)(null),2),Cn=zn[0],Tn=zn[1],In=ae((0,r.useState)(!1),2),Dn=In[0],Rn=In[1],Gn=ae((0,r.useState)(null),2),Ln=Gn[0],Un=Gn[1],Bn=ae((0,r.useState)({standard:null,vip:null}),2),Mn=Bn[0],$n=Bn[1],Hn=ae((0,r.useState)({name:"",duration:"",description:"",country:""}),2),qn=Hn[0],Wn=Hn[1],Jn=ae((0,r.useState)({halls:!1,configuration:!1,prices:!1,schedule:!1,sales:!1}),2),Vn=Jn[0],Yn=Jn[1],ne=ae((0,r.useState)({hallId:"",filmId:"",time:""}),2),te=ne[0],oe=ne[1],ie=function(n){var e=["#85FF89","#CAFF85","#85FFD3","#85E2FF","#8599FF"];return e[Number(n)%e.length]};(0,r.useEffect)(function(){var n=function(){var n=re(Xn().m(function n(){var e,t;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,$();case 1:e=n.v,u(e.halls),m(e.films),b(e.seances),y(ee(e.seances)),e.halls.length>0&&(t=e.halls[0],le(t)),cn(!1),n.n=3;break;case 2:n.p=2,n.v,alert("Не удалось загрузить данные"),cn(!1);case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}();n()},[]);var ce=function(n){Yn(function(e){return Kn(Kn({},e),{},Qn({},n,!e[n]))})},le=function(n){j(n),G(n.hall_rows.toString()),B(n.hall_places.toString()),z(n.hall_rows),I(n.hall_places);var e=n.hall_config||Array(n.hall_rows).fill().map(function(){return Array(n.hall_places).fill("standart")});nn(e),rn(JSON.parse(JSON.stringify(e)))},se=function(n,e){$n(function(t){return Kn(Kn({},t),{},Qn({},n,""===e?null:Number(e)))})},pe=function(){var n=re(Xn().m(function n(){var e,t;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:if(O){n.n=1;break}return n.a(2);case 1:if(n.p=1,null===Mn.standard||!(isNaN(Mn.standard)||Mn.standard<0)){n.n=2;break}return alert("Цена должна быть положительным числом"),n.a(2);case 2:if(null===Mn.vip||!(isNaN(Mn.vip)||Mn.vip<0)){n.n=3;break}return alert("Цена должна быть положительным числом"),n.a(2);case 3:return n.n=4,V(O.id,null!==Mn.standard?Mn.standard:O.hall_price_standart,null!==Mn.vip?Mn.vip:O.hall_price_vip);case 4:e=Kn(Kn({},O),{},{hall_price_standart:null!==Mn.standard?Mn.standard:O.hall_price_standart,hall_price_vip:null!==Mn.vip?Mn.vip:O.hall_price_vip}),u(p.map(function(n){return n.id===O.id?e:n})),j(e),$n({standard:null,vip:null}),n.n=6;break;case 5:n.p=5,t=n.v,alert("Не удалось обновить цены: "+t.message);case 6:return n.a(2)}},n,null,[[1,5]])}));return function(){return n.apply(this,arguments)}}(),ue=function(){var n=re(Xn().m(function n(){var e,t,r;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:if(O){n.n=1;break}return n.a(2);case 1:return e=""===R?1:Math.max(1,parseInt(R)||1),t=""===U?1:Math.max(1,parseInt(U)||1),n.p=2,n.n=3,J(O.id,e,t,H);case 3:r=n.v,G(e.toString()),B(t.toString()),z(e),I(t),u(p.map(function(n){return n.id===r.id?r:n})),j(r),rn(JSON.parse(JSON.stringify(H))),n.n=5;break;case 4:n.p=4,n.v,alert("Не удалось сохранить конфигурацию");case 5:return n.a(2)}},n,null,[[2,4]])}));return function(){return n.apply(this,arguments)}}(),fe=function(n,e){var t=Math.round(n/e*1440),r=Math.min(Math.max(t,0),1439),a=Math.floor(r/60),o=r%60;return"".concat(a.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0"))},de=function(){var n=re(Xn().m(function n(e){var t,r,a,o,i;return Xn().w(function(n){for(;;)switch(n.n){case 0:if(e.preventDefault(),sn){n.n=1;break}return n.a(2);case 1:if(t=e.currentTarget.getBoundingClientRect(),r=e.clientX-t.left,a=fe(r,t.width),o=e.currentTarget.closest("[data-hall-id]")){n.n=2;break}return alert("Пожалуйста, перетащите фильм на конкретный зал"),n.a(2);case 2:i=o.dataset.hallId,oe({hallId:i,filmId:sn.id,time:a}),vn(!0);case 3:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}(),me=function(n){n.target.classList.remove("dragging"),document.querySelectorAll(".conf-step__seances-hall").forEach(function(n){n.classList.remove("dragging-seance")}),dn(null)},he=function(){var n=re(Xn().m(function n(){var e;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:if(N){n.n=1;break}return alert("Название зала не может быть пустым"),n.a(2);case 1:return n.p=1,n.n=2,q(N);case 2:e=n.v,u(e),S(""),_n(!1),e.length>0&&!O&&le(e[0]),n.n=4;break;case 3:n.p=3,n.v,alert("Не удалось создать зал");case 4:return n.a(2)}},n,null,[[1,3]])}));return function(){return n.apply(this,arguments)}}(),ge=function(){var n=re(Xn().m(function n(e){return Xn().w(function(n){for(;;)switch(n.n){case 0:On(e),Nn(!0);case 1:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}(),be=function(){var n=re(Xn().m(function n(){var e;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,W(Fn);case 1:e=n.v,u(e.halls),b(e.seances),y(ee(e.seances)),(null==O?void 0:O.id)===Fn&&j(e.halls[0]||null),Nn(!1),On(null),n.n=3;break;case 2:n.p=2,n.v,alert("Не удалось удалить зал"),Nn(!1);case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}(),xe=function(){var n=re(Xn().m(function n(e){var t,r,a,o,i;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,t=null==O?void 0:O.id,u(function(n){return n.map(function(n){return n.id===e?Kn(Kn({},n),{},{hall_open:1===n.hall_open?0:1}):n})}),n.n=1,Z(e,1===(null==O?void 0:O.hall_open)?0:1);case 1:if(r=n.v,u(function(n){return n.map(function(n){return n.id===r.id?r:n})}),!t){n.n=3;break}return n.n=2,$();case 2:a=n.v,j(a.halls.find(function(n){return n.id===t}));case 3:n.n=6;break;case 4:return n.p=4,i=n.v,console.error("Ошибка изменения статуса:",i),n.n=5,$();case 5:o=n.v,u(o.halls),O&&j(o.halls.find(function(n){return n.id===O.id}));case 6:return n.a(2)}},n,null,[[0,4]])}));return function(e){return n.apply(this,arguments)}}(),ve=function(n){n.preventDefault()},ye=function(){var n=re(Xn().m(function n(){var e,t;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:if(qn.name&&qn.duration){n.n=1;break}return alert("Название и длительность обязательны"),n.a(2);case 1:return n.p=1,n.n=2,Y({name:qn.name,duration:qn.duration,description:qn.description,country:qn.country},o);case 2:e=n.v,m(e),Wn({name:"",duration:"",description:"",country:""}),i(null),l(null),gn(!1),n.n=4;break;case 3:n.p=3,t=n.v,alert("Не удалось добавить фильм: "+t.message);case 4:return n.a(2)}},n,null,[[1,3]])}));return function(){return n.apply(this,arguments)}}(),we=function(){var n=re(Xn().m(function n(){var e,t;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,K(Ln);case 1:e=n.v,m(e.films),b(e.seances),y(ee(e.seances)),Rn(!1),Un(null),n.n=3;break;case 2:n.p=2,t=n.v,alert("Не удалось удалить фильм: "+t.message),Rn(!1);case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}(),_e=function(){var n=re(Xn().m(function n(){var e,t,r,a,o,i,c,l,s,p;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:if(te.hallId&&te.filmId&&te.time){n.n=1;break}return alert("Все поля обязательны для заполнения"),n.a(2);case 1:if(n.p=1,e=d.find(function(n){return n.id===te.filmId})){n.n=2;break}return alert("Фильм не найден"),n.a(2);case 2:if(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(te.time)){n.n=3;break}return alert("Неверный формат времени. Используйте HH:MM"),n.a(2);case 3:if(t=te.time.split(":").map(Number),r=ae(t,2),a=r[0],o=r[1],!((c=(i=60*a+o)+Number(e.film_duration))>1440)){n.n=4;break}return alert("Сеанс должен заканчиваться до 00:00"),n.a(2);case 4:if(![].concat(ee(g),ee(v)).filter(function(n){return String(n.seance_hallid)===String(te.hallId)}).some(function(n){var e=d.find(function(e){return e.id===n.seance_filmid});if(!e)return!1;var t=ae(n.seance_time.split(":").map(Number),2),r=60*t[0]+t[1],a=r+Number(e.film_duration);return i>=r&&i<a||c>r&&c<=a||i<=r&&c>=a})){n.n=5;break}return alert("Сеансы не должны пересекаться по времени в одном зале"),n.a(2);case 5:l="temp-".concat(Date.now()),s={id:l,seance_hallid:te.hallId,seance_filmid:te.filmId,seance_time:te.time,isNew:!0},y(function(n){return[].concat(ee(n),[s])}),E(!0),oe({hallId:"",filmId:"",time:""}),vn(!1),n.n=7;break;case 6:n.p=6,p=n.v,alert("Не удалось добавить сеанс: "+(p.message||"Ошибка сервера"));case 7:return n.a(2)}},n,null,[[1,6]])}));return function(){return n.apply(this,arguments)}}(),Ee=function(){var n=re(Xn().m(function n(){var e;return Xn().w(function(n){for(;;)switch(n.n){case 0:e=v.filter(function(n){return n.id!==Cn}),y(e),E(!0),Pn(!1),Tn(null);case 1:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),ke=function(){var n=re(Xn().m(function n(){var e,t,r,a,o,i,c,l,s,p,u,f;return Xn().w(function(n){for(;;)switch(n.p=n.n){case 0:n.p=0,e=g.filter(function(n){return!v.some(function(e){return e.id===n.id})}),t=Zn(e),n.p=1,t.s();case 2:if((r=t.n()).done){n.n=4;break}return a=r.value,n.n=3,X(a.id);case 3:n.n=2;break;case 4:n.n=6;break;case 5:n.p=5,p=n.v,t.e(p);case 6:return n.p=6,t.f(),n.f(6);case 7:o=v.filter(function(n){return n.isNew}),i=Zn(o),n.p=8,i.s();case 9:if((c=i.n()).done){n.n=11;break}return l=c.value,n.n=10,Q(l.seance_hallid,l.seance_filmid,l.seance_time);case 10:n.n=9;break;case 11:n.n=13;break;case 12:n.p=12,u=n.v,i.e(u);case 13:return n.p=13,i.f(),n.f(13);case 14:return n.n=15,$();case 15:s=n.v,b(s.seances),y(ee(s.seances)),E(!1),n.n=17;break;case 16:n.p=16,f=n.v,alert("Не удалось сохранить изменения: "+f.message);case 17:return n.a(2)}},n,null,[[8,12,13,14],[1,5,6,7],[0,16]])}));return function(){return n.apply(this,arguments)}}();return on?r.createElement("div",{className:"loading"},"Загрузка данных..."):r.createElement("div",{className:"admin-container"},r.createElement("main",{className:"admin-content"},r.createElement("section",{className:"admin-section"},r.createElement("div",{className:"section-header ".concat(Vn.halls?"collapsed":""),"data-section-number":"1",onClick:function(){return ce("halls")}},r.createElement("div",{className:"section-icon"}),r.createElement("div",{className:"section-name-holder"},r.createElement("h2",null,"Управление залами"))),!Vn.halls&&r.createElement("div",{className:"section-content"},r.createElement("div",{className:"conf-step__wrapper"},r.createElement("p",{className:"conf-step__paragraph"},"Доступные залы:"),r.createElement("ul",{className:"conf-step__list"},p.map(function(n){return r.createElement("li",{key:n.id,className:"conf-step__list-item"},r.createElement("span",null,"–")," ",n.hall_name,r.createElement("button",{className:"conf-step__hall-delete",onClick:function(){return ge(n.id)}}))})),r.createElement("button",{className:"conf-step__button conf-step__button-accent",onClick:function(){return _n(!0)}},"Создать зал")))),r.createElement("section",{className:"admin-section"},r.createElement("div",{className:"section-header ".concat(Vn.configuration?"collapsed":""),"data-section-number":"2",onClick:function(){return ce("configuration")}},r.createElement("div",{className:"section-icon"}),r.createElement("div",{className:"section-name-holder"},r.createElement("h2",null,"Конфигурация залов"))),!Vn.configuration&&r.createElement("div",{className:"section-content"},r.createElement("div",{className:"conf-step__wrapper"},r.createElement("p",{className:"conf-step__paragraph"},"Выберите зал для конфигурации:"),r.createElement("div",{className:"conf-step__selectors-box"},p.map(function(n){return r.createElement("span",{key:n.id,className:"conf-step__selector ".concat((null==O?void 0:O.id)===n.id?"active":""),onClick:function(){return le(n)}},n.hall_name)})),O&&r.createElement("div",{className:"conf-step__hall-configuration"},r.createElement("div",{className:"conf-step__legend"},r.createElement("p",{className:"conf-step__paragraph"},"Укажите количество рядов и максимальное количество кресел в ряду:"),r.createElement("div",{className:"conf-step__legend-inputs"},r.createElement("label",{className:"conf-step__legend-label"},r.createElement("span",null,"Рядов, шт"),r.createElement("input",{type:"number",value:R,onChange:function(n){var e=n.target.value;if(G(e),""!==e&&!isNaN(e)){var t=parseInt(e)||1;if(t<1)return void alert("Количество рядов должно быть положительным числом");z(t);var r=Array(t).fill().map(function(n,e){return e<H.length?ee(H[e]).slice(0,T).map(function(n){return n||"standart"}):Array(T).fill("standart")});nn(r)}},min:"1",className:"conf-step__legend-input"})),r.createElement("span",{className:"conf-step__legend-separator"},"×"),r.createElement("label",{className:"conf-step__legend-label"},r.createElement("span",null,"Мест, шт"),r.createElement("input",{type:"number",value:U,onChange:function(n){var e=n.target.value;if(B(e),""!==e&&!isNaN(e)){var t=parseInt(e)||1;if(t<1)return void alert("Количество мест должно быть положительным числом");I(t);for(var r=H.map(function(n){return n.slice(0,t).map(function(n){return n||"standart"})});r.length<P;)r.push(Array(t).fill("standart"));nn(r)}},min:"1",className:"conf-step__legend-input"})))),r.createElement("div",{className:"conf-step__hall-scheme"},r.createElement("p",{className:"conf-step__paragraph"},"Теперь вы можете указать типы кресел на схеме зала:"),r.createElement("div",{className:"conf-step__legend"},r.createElement("div",{className:"conf-step__legend-item"},r.createElement("span",{className:"conf-step__chair conf-step__chair_standart"}),r.createElement("span",null,"— обычные кресла")),r.createElement("div",{className:"conf-step__legend-item"},r.createElement("span",{className:"conf-step__chair conf-step__chair_vip"}),r.createElement("span",null,"— VIP кресла")),r.createElement("div",{className:"conf-step__legend-item"},r.createElement("span",{className:"conf-step__chair conf-step__chair_disabled"}),r.createElement("span",null,"— заблокированные (нет кресла)"))),r.createElement("p",{className:"conf-step__hint"},"Чтобы изменить вид кресла, нажмите по нему левой кнопкой мыши"),r.createElement("div",{className:"conf-step__hall"},r.createElement("div",{className:"conf-step__hall-screen"},"экран"),r.createElement("div",{className:"conf-step__hall-wrapper"},H.map(function(n,e){return r.createElement("div",{key:e,className:"conf-step__row"},n.map(function(n,t){return r.createElement("span",{key:t,className:"conf-step__chair conf-step__chair_".concat(n),onClick:function(){return function(n,e){if(O){var t=ee(H);t[n][e]="standart"===t[n][e]?"vip":"vip"===t[n][e]?"disabled":"standart",nn(t)}}(e,t)}})}))})))),r.createElement("div",{className:"conf-step__buttons"},r.createElement("button",{className:"conf-step__button",onClick:function(){O&&tn&&(G(O.hall_rows.toString()),B(O.hall_places.toString()),z(O.hall_rows),I(O.hall_places),nn(JSON.parse(JSON.stringify(tn))))}},"Отмена"),r.createElement("button",{className:"conf-step__button conf-step__button-accent",onClick:ue},"Сохранить")))))),r.createElement("section",{className:"admin-section"},r.createElement("div",{className:"section-header ".concat(Vn.prices?"collapsed":""),"data-section-number":"3",onClick:function(){return ce("prices")}},r.createElement("div",{className:"section-icon"}),r.createElement("div",{className:"section-name-holder"},r.createElement("h2",null,"Конфигурация цен"))),!Vn.prices&&r.createElement("div",{className:"section-content"},r.createElement("div",{className:"conf-step__wrapper"},r.createElement("p",{className:"conf-step__paragraph"},"Выберите зал для конфигурации:"),r.createElement("div",{className:"conf-step__selectors-box"},p.map(function(n){return r.createElement("span",{key:n.id,className:"conf-step__selector ".concat((null==O?void 0:O.id)===n.id?"active":""),onClick:function(){return le(n)}},n.hall_name)})),O&&r.createElement("div",{className:"conf-step__prices"},r.createElement("p",{className:"conf-step__paragraph"},"Теперь вы можете указать типы кресел на схеме зала:"),r.createElement("div",{className:"conf-step__legend"},r.createElement("div",{className:"conf-step__legend-item"},r.createElement("label",{className:"conf-step__legend-label"},r.createElement("span",null,"Цена, рублей"),r.createElement("input",{type:"number",value:null!==(e=Mn.standard)&&void 0!==e?e:"",onChange:function(n){return se("standard",n.target.value)},onClick:function(n){null===Mn.standard&&(n.target.value="",$n(function(n){return Kn(Kn({},n),{},{standard:null})}))},placeholder:(null==O?void 0:O.hall_price_standart)||"",min:"0",className:"conf-step__legend-input"})),r.createElement("span",null,"за"),r.createElement("span",{className:"conf-step__chair conf-step__chair_standart"}),r.createElement("span",null,"обычные кресла")),r.createElement("div",{className:"conf-step__legend-item"},r.createElement("label",{className:"conf-step__legend-label"},r.createElement("span",null,"Цена, рублей"),r.createElement("input",{type:"number",value:null!==(t=Mn.vip)&&void 0!==t?t:"",onChange:function(n){return se("vip",n.target.value)},onClick:function(n){null===Mn.vip&&(n.target.value="",$n(function(n){return Kn(Kn({},n),{},{vip:null})}))},placeholder:(null==O?void 0:O.hall_price_vip)||"",min:"0",className:"conf-step__legend-input"})),r.createElement("span",null,"за"),r.createElement("span",{className:"conf-step__chair conf-step__chair_vip"}),r.createElement("span",null,"VIP кресла"))),r.createElement("div",{className:"conf-step__buttons"},r.createElement("button",{className:"conf-step__button",onClick:function(){$n({standard:null,vip:null})},disabled:null===Mn.standard&&null===Mn.vip},"Отмена"),r.createElement("button",{className:"conf-step__button conf-step__button-accent",onClick:pe,disabled:null===Mn.standard&&null===Mn.vip},"Сохранить")))))),r.createElement("section",{className:"admin-section"},r.createElement("div",{className:"section-header ".concat(Vn.schedule?"collapsed":""),"data-section-number":"4",onClick:function(){return ce("schedule")}},r.createElement("div",{className:"section-icon"}),r.createElement("div",{className:"section-name-holder"},r.createElement("h2",null,"Сетка сеансов"))),!Vn.schedule&&r.createElement("div",{className:"section-content"},r.createElement("div",{className:"conf-step__wrapper"},r.createElement("button",{className:"conf-step__button conf-step__button-accent",onClick:function(){return gn(!0)}},"Добавить фильм"),r.createElement("div",{className:"conf-step__movies"},d.map(function(n){return r.createElement("div",{key:n.id,className:"conf-step__movie",style:{backgroundColor:ie(n.id)},draggable:!0,onDragStart:function(e){return function(n,e){n.target.classList.add("dragging"),pn(e),dn(null),n.dataTransfer.setData("text/plain",e.id),n.dataTransfer.effectAllowed="move";var t=n.target.cloneNode(!0);t.style.position="absolute",t.style.left="-9999px",t.style.width="".concat(n.target.offsetWidth,"px"),document.body.appendChild(t),n.dataTransfer.setDragImage(t,n.target.offsetWidth/2,n.target.offsetHeight/2),setTimeout(function(){return document.body.removeChild(t)},0)}(e,n)},onDragEnd:me,onDragOver:function(n){return n.preventDefault()}},r.createElement("img",{src:n.film_poster||"/img/default-poster.jpg",alt:n.film_name,className:"conf-step__movie-poster"}),r.createElement("div",{className:"conf-step__movie-info"},r.createElement("h4",null,n.film_name),r.createElement("p",null,n.film_duration," минут")),r.createElement("button",{className:"conf-step__button-trash",onClick:function(e){var t;e.stopPropagation(),t=n.id,Un(t),Rn(!0)}}))})),r.createElement("div",{className:"conf-step__seances"},p.map(function(n){return r.createElement("div",{key:n.id,className:"conf-step__seances-hall","data-hall-id":n.id,onDragEnd:me},r.createElement("h3",{className:"conf-step__seances-title"},n.hall_name),r.createElement("div",{className:"conf-step__seances-timeline-wrapper"},r.createElement("div",{className:"conf-step__trash-bin",onDragOver:ve,onDrop:function(n){var e;n.preventDefault(),fn&&(e=fn.id,Tn(e),Pn(!0))}},"🗑️"),r.createElement("div",{className:"conf-step__seances-timeline",onDragOver:ve,onDrop:de},v.filter(function(e){return String(e.seance_hallid)===String(n.id)}).map(function(n){var e=d.find(function(e){return e.id===n.seance_filmid});if(!e)return console.warn("Film not found for seance:",n),null;var t=function(n){if(!n||!n.match(/^\d{2}:\d{2}$/))return 0;var e=ae(n.split(":").map(Number),2),t=e[0],r=e[1];return t<0||t>23||r<0||r>59?0:(60*t+r)/1440*100}(n.seance_time),a=e.film_duration/1440*100;return r.createElement("div",{key:n.id,className:"conf-step__seances-movie",style:{width:"".concat(a,"%"),left:"".concat(t,"%"),backgroundColor:ie(e.id)},draggable:!0,onDragStart:function(e){return function(n,e){dn(e),n.currentTarget.closest(".conf-step__seances-hall").classList.add("dragging-seance");var t=d.find(function(n){return n.id===e.seance_filmid});if(t&&t.film_poster){var r=document.createElement("div");r.style.position="absolute",r.style.left="-9999px",r.style.width="38px",r.style.height="50px",r.style.backgroundImage="url(".concat(t.film_poster,")"),r.style.backgroundSize="cover",r.style.backgroundPosition="center",document.body.appendChild(r),n.dataTransfer.setDragImage(r,19,25),setTimeout(function(){return document.body.removeChild(r)},0)}}(e,n)},onDragEnd:me},r.createElement("span",{className:"conf-step__seances-movie-title"},e.film_name),r.createElement("div",{className:"conf-step__seances-movie-start"},r.createElement("div",{className:"conf-step__seances-movie-line"}),r.createElement("span",{className:"conf-step__seances-movie-time"},n.seance_time)))}))))})),r.createElement("div",{className:"conf-step__buttons"},r.createElement("button",{className:"conf-step__button",onClick:function(){y(ee(g)),E(!1)},disabled:!_},"Отмена"),r.createElement("button",{className:"conf-step__button conf-step__button-accent",onClick:ke,disabled:!_},"Сохранить"))))),r.createElement("section",{className:"admin-section"},r.createElement("div",{className:"section-header ".concat(Vn.sales?"collapsed":""),"data-section-number":"5",onClick:function(){return ce("sales")}},r.createElement("div",{className:"section-icon"}),r.createElement("div",{className:"section-name-holder"},r.createElement("h2",null,"Открыть продажи"))),!Vn.sales&&r.createElement("div",{className:"section-content"},r.createElement("div",{className:"conf-step__wrapper"},r.createElement("p",{className:"conf-step__paragraph"},"Выберите зал для конфигурации:"),r.createElement("div",{className:"conf-step__selectors-box"},p.map(function(n){return r.createElement("span",{key:n.id,className:"conf-step__selector ".concat((null==O?void 0:O.id)===n.id?"active":""),onClick:function(){return le(n)}},n.hall_name)})),O&&r.createElement("div",{className:"conf-step__sales"},r.createElement("p",{className:"conf-step__paragraph"},"Всё готово к открытию"),r.createElement("button",{className:"conf-step__button conf-step__button-accent ".concat(1===O.hall_open?"active":""),onClick:function(){return xe(O.id)}},1===O.hall_open?"Закрыть продажи":"Приостановить продажу билетов")))))),hn&&r.createElement("div",{className:"popup-overlay film-popup"},r.createElement("div",{className:"popup-content"},r.createElement("div",{className:"popup-header"},r.createElement("h3",null,"Добавление фильма"),r.createElement("button",{className:"popup-close-btn",onClick:function(){gn(!1),i(null),l(null)}})),r.createElement("div",{className:"popup-form"},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Название фильма"),r.createElement("input",{type:"text",value:qn.name,onChange:function(n){return Wn(Kn(Kn({},qn),{},{name:n.target.value}))},placeholder:"Например, «Гражданин Кейн»"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Продолжительность фильма (мин.)"),r.createElement("input",{type:"number",value:qn.duration,onChange:function(n){return Wn(Kn(Kn({},qn),{},{duration:n.target.value}))}})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Описание фильма"),r.createElement("textarea",{value:qn.description,onChange:function(n){return Wn(Kn(Kn({},qn),{},{description:n.target.value}))}})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Страна"),r.createElement("input",{type:"text",value:qn.country,onChange:function(n){return Wn(Kn(Kn({},qn),{},{country:n.target.value}))}})),r.createElement("div",{className:"popup-actions"},r.createElement("button",{className:"action-btn add-film-btn",onClick:ye},"Добавить фильм"),r.createElement("label",{htmlFor:"poster-upload",className:"action-btn upload-poster-btn"},"Загрузить постер",r.createElement("input",{type:"file",id:"poster-upload",className:"poster-upload-input",accept:"image/*",onChange:function(n){var e=n.target.files[0];if(e){if(e.size>3145728)return void setError("Файл слишком большой (макс. 3MB)");i(e),l(URL.createObjectURL(e))}}})),r.createElement("button",{className:"action-btn cancel-btn",onClick:function(){gn(!1),i(null),l(null)}},"Отменить"))))),Dn&&r.createElement("div",{className:"popup-overlay delete-confirm-popup"},r.createElement("div",{className:"popup-content"},r.createElement("div",{className:"popup-header"},r.createElement("h3",null,"Удаление фильма"),r.createElement("button",{className:"popup-close-btn",onClick:function(){return Rn(!1)}})),r.createElement("div",{className:"popup-form"},r.createElement("p",null,"Вы уверены, что хотите удалить этот фильм? Все связанные сеансы также будут удалены."),r.createElement("div",{className:"popup-actions"},r.createElement("button",{className:"confirm-btn",onClick:we},"Удалить"),r.createElement("button",{className:"cancel-btn",onClick:function(){return Rn(!1)}},"Отменить"))))),wn&&r.createElement("div",{className:"popup-overlay"},r.createElement("div",{className:"popup-content"},r.createElement("div",{className:"popup-header"},r.createElement("h3",null,"Добавление зала"),r.createElement("button",{className:"popup-close-btn",onClick:function(){_n(!1),S("")}})),r.createElement("div",{className:"popup-form"},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Название зала"),r.createElement("input",{type:"text",value:N,onChange:function(n){return S(n.target.value)},placeholder:"Например, «Зал 1»"})),r.createElement("div",{className:"popup-actions"},r.createElement("button",{className:"confirm-btn",onClick:he},"Добавить зал"),r.createElement("button",{className:"cancel-btn",onClick:function(){return _n(!1)}},"Отменить"))))),kn&&r.createElement("div",{className:"popup-overlay delete-confirm-popup"},r.createElement("div",{className:"popup-content"},r.createElement("div",{className:"popup-header"},r.createElement("h3",null,"Удаление зала"),r.createElement("button",{className:"popup-close-btn",onClick:function(){return Nn(!1)}})),r.createElement("div",{className:"popup-form"},r.createElement("p",null,"Вы уверены, что хотите удалить этот зал? Все связанные сеансы также будут удалены."),r.createElement("div",{className:"popup-actions"},r.createElement("button",{className:"confirm-btn",onClick:be},"Удалить"),r.createElement("button",{className:"cancel-btn",onClick:function(){return Nn(!1)}},"Отменить"))))),xn&&r.createElement("div",{className:"popup-overlay"},r.createElement("div",{className:"popup-content"},r.createElement("div",{className:"popup-header"},r.createElement("h3",null,"Добавление сеанса"),r.createElement("button",{className:"popup-close-btn",onClick:function(){return vn(!1)}})),r.createElement("div",{className:"popup-form"},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Фильм"),r.createElement("select",{value:te.filmId,onChange:function(n){return oe(Kn(Kn({},te),{},{filmId:n.target.value}))}},r.createElement("option",{value:""},"Выберите фильм"),d.map(function(n){return r.createElement("option",{key:n.id,value:n.id},n.film_name," (",n.film_duration," мин)")}))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Зал"),r.createElement("select",{value:te.hallId,onChange:function(n){return oe(Kn(Kn({},te),{},{hallId:n.target.value}))}},r.createElement("option",{value:""},"Выберите зал"),p.map(function(n){return r.createElement("option",{key:n.id,value:n.id},n.hall_name)}))),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Время начала"),r.createElement("input",{type:"text",value:te.time,onChange:function(n){return oe(Kn(Kn({},te),{},{time:n.target.value}))},placeholder:"HH:MM"})),r.createElement("div",{className:"popup-actions"},r.createElement("button",{className:"confirm-btn",onClick:_e},"Добавить сеанс"),r.createElement("button",{className:"cancel-btn",onClick:function(){return vn(!1)}},"Отменить"))))),An&&r.createElement("div",{className:"popup-overlay delete-confirm-popup"},r.createElement("div",{className:"popup-content"},r.createElement("div",{className:"popup-header"},r.createElement("h3",null,"Удаление сеанса"),r.createElement("button",{className:"popup-close-btn",onClick:function(){return Pn(!1)}})),r.createElement("div",{className:"popup-form"},r.createElement("p",null,"Вы уверены, что хотите удалить этот сеанс?"),r.createElement("div",{className:"popup-actions"},r.createElement("button",{className:"confirm-btn",onClick:Ee},"Удалить"),r.createElement("button",{className:"cancel-btn",onClick:function(){return Pn(!1)}},"Отменить"))))))};var le=t(784),se={};function pe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}se.styleTagTransform=w(),se.setAttributes=b(),se.insert=h().bind(null,"head"),se.domAPI=d(),se.insertStyleElement=v(),u()(le.A,se),le.A&&le.A.locals&&le.A.locals;const ue=function(){var n,e,t=(0,i.zy)(),a=(0,i.Zp)(),o=(n=(0,r.useState)("true"===localStorage.getItem("isAuthenticated")),e=2,function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return pe(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pe(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=o[0],l=o[1];(0,r.useEffect)(function(){t.pathname.startsWith("/admin")||t.pathname.startsWith("/auth")?document.body.className="admin":document.body.className="guest"},[t]);var s=function(){a("/")};return r.createElement("div",{className:"App"},r.createElement("div",{className:"logo"},t.pathname.startsWith("/admin")||t.pathname.startsWith("/auth")?r.createElement("div",{className:"admin-logo-wrapper"},r.createElement("h1",{className:"logo-text",onClick:s,style:{cursor:"pointer"}},"ИДЁМ",r.createElement("span",{className:"logo-part"},"В"),"КИНО"),r.createElement("h2",{className:"admin-subtitle"},"АДМИНИСТРАТОРРСКАЯ")):r.createElement("div",{className:"logo-wrapper"},r.createElement("h1",{className:"logo-text",onClick:s,style:{cursor:"pointer"}},"ИДЁМ",r.createElement("span",{className:"logo-part"},"В"),"КИНО"),"/"===t.pathname&&r.createElement("button",{className:"login-button",onClick:function(){a("/auth")}},"ВОЙТИ"))),r.createElement(i.BV,null,r.createElement(i.qh,{path:"/",element:r.createElement(dn,null)}),r.createElement(i.qh,{path:"/booking",element:r.createElement(Fn,null)}),r.createElement(i.qh,{path:"/booking-confirmation",element:r.createElement(Pn,null)}),r.createElement(i.qh,{path:"/ticket",element:r.createElement(In,null)}),r.createElement(i.qh,{path:"/auth",element:c?r.createElement(i.C5,{to:"/admin",replace:!0}):r.createElement($n,{onLogin:function(){localStorage.setItem("isAuthenticated","true"),l(!0),a("/admin")}})}),r.createElement(i.qh,{path:"/admin",element:c?r.createElement(ce,{onLogout:function(){localStorage.removeItem("isAuthenticated"),l(!1),a("/auth")}}):r.createElement(i.C5,{to:"/auth",replace:!0})}),r.createElement(i.qh,{path:"*",element:r.createElement(i.C5,{to:"/",replace:!0})})))};a.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(o.Kd,{basename:"/cinema"},r.createElement(ue,null))))},944:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,".auth-container {\n  max-width: 480px;\n  background: #EAE9EBF2;\n  margin: auto;\n  padding-bottom: 15px;\n}\n\n.auth-header {\n  padding: 16px;\n  background: #63536C;\n  text-align: center;\n}\n\n.auth-header h1 {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 900;\n  font-size: 34px;\n  line-height: 39px;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  margin: 0;\n}\n\n.auth-header h2 {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 700;\n  font-size: 22px;\n  line-height: 25px;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  margin: 0;\n}\n\n.form-group-auth {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0;\n    gap: 2px;\n    margin-top: 15px;\n}\n\n.form-group-auth label {\n  width: auto;\n  height: 14px;\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 14px;\n  display: flex;\n  align-items: center;\n  color: #848484;\n  margin-bottom: 2px;\n}\n\n.form-group-auth input {\n  box-sizing: border-box;\n  height: 52px;\n  width: 272px;\n  padding: 8px;\n  background: #FFFFFF;\n  border: 1px solid #B7B7B7;\n  font-family: 'Roboto', sans-serif;\n  font-size: 16px;\n}\n\n.auth-button {\n  display: block;\n  width: 189px;\n  height: 40px;\n  margin: 17px auto 20px;\n  background: #16A6AF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  border: none;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  cursor: pointer;\n}\n\n.error-message {\n  color: #ff0000;\n  font-family: 'Roboto', sans-serif;\n  font-size: 14px;\n  text-align: center;\n  margin: 10px 0;\n}\n\n@media (max-width: 768px) {\n  .auth-container {\n    width: 100%;\n    max-width: none;\n  }\n}\n\n@media (max-width: 390px) {\n  .form-group-auth input {\n    width: 90%;\n  }\n  \n  .auth-button {\n    width: 90%;\n  }\n}",""]);const c=i},966:(n,e,t)=>{t.d(e,{A:()=>x});var r=t(601),a=t.n(r),o=t(314),i=t.n(o),c=t(417),l=t.n(c),s=new URL(t(200),t.b),p=new URL(t(244),t.b),u=new URL(t(996),t.b),f=new URL(t(52),t.b),d=i()(a()),m=l()(s),h=l()(p),g=l()(u),b=l()(f);d.push([n.id,`body.admin {\n  background: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${m}) no-repeat fixed;\n  background-size: cover;\n}\n\n.admin-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 474px;\n  gap: 0.3px;\n  position: relative;\n  max-width: 962px;\n  margin: 0 auto;\n  margin-bottom: 50px;\n}\n\n.admin-header {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 35px 42px 35px 104px;\n  width: 972px;\n  height: 120px;\n  margin-bottom: 30px;\n}\n\n.admin-header__title h1 {\n  width: 212px;\n  height: 39px;\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: 900;\n  font-size: 34px;\n  line-height: 39px;\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  margin: 0;\n}\n\n.admin-header__title p {\n  width: 216px;\n  height: 12px;\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 12px;\n  display: flex;\n  align-items: center;\n  letter-spacing: 5px;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  margin: 0;\n}\n\n.logout-btn {\n  background: #f44336;\n  color: white;\n  border: none;\n  padding: 11.2px 31.3873px 11.9px 31.7627px;\n  border-radius: 3px;\n  cursor: pointer;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-transform: uppercase;\n}\n\n.admin-content {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0;\n  width: 962px;\n}\n\n.admin-section {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0;\n  width: 962px;\n  background: rgba(234, 233, 235, 0.95);\n  position: relative;\n}\n\n.admin-section::before {\n  content: '';\n  position: absolute;\n  width: 2px;\n  left: 61px;\n  top: 0;\n  bottom: 0;\n  background: #BC95D6;\n  z-index: 0;\n}\n\n.admin-section:last-child::before {\n  display: none; \n}\n\n.section-header {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 35px 42px 35px 104px;\n  width: 962px;\n  height: 95px;\n  background: #63536C;\n  position: relative;\n  box-sizing: border-box;\n  z-index: 1;\n  cursor: pointer;\n}\n\n.section-header h2 {\n  position: relative;\n  padding-right: 30px;\n  margin: 0;\n  display: inline-block;\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 22px;\n  line-height: 25px;\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  color: #FFFFFF;\n}\n\n.section-name-holder::after {\n  content: '';\n  position: absolute;\n  right: 5%;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 16px;\n  height: 16px;\n  background-image: url(${h});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  transition: transform 0.3s ease;\n}\n\n.section-header.collapsed h2::after {\n  transform: translateY(-50%) rotate(90deg);\n}\n\n.section-header::after {\n  content: '';\n  position: absolute;\n  width: 2px;\n  left: 61px;\n  top: 0;\n  bottom: 0;\n  background: #BC95D6;\n  z-index: 1;\n}\n\n.admin-section:last-child .section-header::after {\n  height: 50%;\n}\n\n.admin-section:first-child .section-header::after {\n  height: 50%;\n  top:50%;\n}\n\n.section-header::before {\n  content: attr(data-section-number);\n  position: absolute;\n  width: 40px;\n  left: 38px;\n  display: flex;\n  top: 27.37%;\n  bottom: 26.32%;\n  background: #FFFFFF;\n  border: 4px solid #BC95D6;\n  border-radius: 22px;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 700;\n  font-size: 22px;\n  color: #63536C;\n  z-index: 20;\n}\n\n.section-content {\n  margin-top: 15px;\n  width: 100%;\n  box-sizing: border-box;\n  padding-left: 80px;\n  position: relative;\n  z-index: 0;\n}\n\n.conf-step__wrapper {\n  width: 840px;\n  padding: 20px;\n}\n\n.conf-step__paragraph {\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 18px;\n  display: flex;\n  align-items: center;\n  color: #000000;\n  margin: 0 0 15px 0;\n}\n\n.conf-step__list {\n  list-style: none;\n  padding: 0;\n  margin: 0 0 15px 0;\n}\n\n.conf-step__list-item {\n  display: flex;\n  align-items: center;\n  padding: 8px 0;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 18px;\n  text-transform: uppercase;\n  color: #000000;\n}\n\n.conf-step__list-item span {\n  margin-right: 5px;\n}\n\n.conf-step__button {\n  display: inline-flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 11.2px 31.3873px 11.9px 31.7627px;\n  background: #FFFFFF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  border: none;\n  cursor: pointer;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-align: center;\n  text-transform: uppercase;\n  color: #63536C;\n}\n\n.conf-step__button-accent {\n  background: #16A6AF;\n  color: #FFFFFF;\n}\n\n.conf-step__selectors-box {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0;\n  margin-bottom: 15px;\n}\n\n.conf-step__selector {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 12.2px 20.25px 12.9px 21px;\n  background: rgba(255, 255, 255, 0.45);\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-transform: uppercase;\n  color: #000000;\n  cursor: pointer;\n}\n\n.conf-step__selector.active {\n  padding: 15.42px 23.03px 13.89px 23.1px;\n  background: #FFFFFF;\n  box-shadow: 0px 6px 8px rgba(0, 0, 0, 0.24), 0px 2px 2px rgba(0, 0, 0, 0.24), 0px 0px 2px rgba(0, 0, 0, 0.12);\n  font-weight: 900;\n  font-size: 15px;\n}\n\n.conf-step__legend {\n  margin-bottom: 15px;\n}\n\n.conf-step__legend-item {\n  align-items: center;\n  margin-right: 30px;\n  white-space: nowrap;\n}\n\n.conf-step__legend-inputs {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.conf-step__legend-label {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 5px;\n}\n\n.conf-step__legend-label span {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 14px;\n  color: #848484;\n}\n\n.conf-step__legend-input {\n  width: 70px;\n  padding: 5px 8px;\n  margin: 0 5px;\n  border: 1px solid #A6A6A6;\n  border-radius: 3px;\n  font-family: 'Roboto', sans-serif;\n  font-size: 14px;\n}\n\n.conf-step__legend-separator {\n  font-family: 'Consolas', monospace;\n  font-size: 18px;\n  line-height: 21px;\n  color: #848484;\n}\n\n.conf-step__hall {\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 36px 0 36px;\n  border: 1px solid #000000;\n  margin-bottom: 20px;\n}\n\n.conf-step__hall-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0;\n  gap: 10px;\n}\n\n.conf-step__row {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 0;\n  gap: 10px;\n}\n\n.conf-step__chair {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  margin: 0 5px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n}\n\n.conf-step__chair_standart {\n  background: #C4C4C4;\n  border: 1px solid #393939;\n  background: #E6E6E6;\n  border: 1px solid #A6A6A6;\n}\n\n.conf-step__chair_vip {\n  background: #B0D6D8;\n  border: 1px solid #0A828A;\n}\n\n.conf-step__chair_disabled {\n  border: 1px solid #C4C4C4;\n  background: #F5F5F5;\n  border: 1px dashed #A6A6A6;\n  opacity: 0.5;\n}\n\n.conf-step__hall-screen {\n  width: 151px;\n  height: 18px;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 18px;\n  text-align: center;\n  letter-spacing: 19px;\n  text-transform: uppercase;\n  color: #000000;\n  margin-bottom: 26px;\n}\n\n.conf-step__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 50px 0 0;\n  gap: 15px;\n}\n\n.films-grid {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n  padding: 0;\n  gap: 15px;\n  margin-bottom: 15px;\n}\n\n.film-item {\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 0;\n  isolation: isolate;\n  width: 259px;\n  height: 52px;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  position: relative;\n  cursor: grab;\n}\n\n.film-item img {\n  width: 38px;\n  height: 50px;\n}\n\n.film-info {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0 10px;\n  gap: 4px;\n  flex: 1;\n}\n\n.film-info h4 {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  color: #000000;\n  margin: 0;\n}\n\n.film-info p {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 16px;\n  color: rgba(0, 0, 0, 0.7);\n  margin: 0;\n}\n\n.film-trash {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  background: #FFFFFF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n\n.conf-step__seances {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0 35px;\n  gap: 35px;\n}\n\n.conf-step__seances-hall {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0;\n  width: 746px;\n}\n\n.conf-step__seances-title {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 18px;\n  text-transform: uppercase;\n  color: #000000;\n  margin: 0 0 15px 0;\n}\n\n.conf-step__seances-timeline {\n  width: 720px;\n  height: 60px;\n  border: 1px solid #848484;\n  position: relative;\n}\n\n.conf-step__seances-movie {\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 6px;\n  isolation: isolate;\n  position: absolute;\n  height: 40px;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  cursor: move;\n  height: 50px;\n  top: 10%;\n}\n\n.conf-step__seances-movie-title {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 10px;\n  color: #000000;\n}\n\n.conf-step__seances-movie-start {\n  position: absolute;\n  width: 30px;\n  height: 14px;\n  left: -16px;\n  bottom: -25px;\n  pointer-events: none;\n}\n\n.conf-step__seances-movie-start::before {\n  content: '';\n  position: absolute;\n  width: 1px;\n  height: 6px;\n  left: 15px;\n  bottom: 10px;\n  background: #848484;\n  pointer-events: none;\n}\n\n.conf-step__seances-movie-time {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 14px;\n  color: #848484;\n}\n\n.popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.popup-content {\n  background: rgba(234, 233, 235, 0.95);\n  padding: 0;\n  width: 960px;\n  max-width: 90%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.popup-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center; \n  padding: 16px 42px 14px;\n  width: 100%;\n  height: 57px;\n  margin-bottom: 30px;\n  background: #63536C;\n  box-sizing: border-box;\n  position: relative; \n}\n\n.popup-header h3 {\n  width: 248px;\n  height: 25px;\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 700;\n  font-size: 22px;\n  line-height: 25px;\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  color: #FFFFFF;\n  margin: 0 auto;\n}\n\n.popup-form {\ndisplay: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 0 35px;\n  gap: 34px;\n  width: 100%;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0;\n  gap: 2px;\n  width: 750px;\n}\n\n.form-group label {\n  width: auto;\n  height: 14px;\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 14px;\n  display: flex;\n  align-items: center;\n  color: #848484;\n  margin-bottom: 2px;\n}\n\n.form-group input,\n.form-group select,\n.form-group textarea {\n  box-sizing: border-box;\n  width: 100%;\n  height: 35px;\n  background: #FFFFFF;\n  border: 1px solid #B7B7B7;\n  padding: 8px;\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 19px;\n  color: #000000;\n}\n\n.form-group textarea {\n  height: 80px;\n  resize: none;\n}\n\n.popup-actions {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 0;\n  gap: 14px;\n  width: auto;\n  height: 40px;\n}\n\n.popup-actions button {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 11.2px 32px 11.9px;\n  height: 40px;\n  border: none;\n  cursor: pointer;\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-align: center;\n  text-transform: uppercase;\n}\n\n.popup-actions .confirm-btn {\n  background: #16A6AF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  color: #FFFFFF;\n  width: 194px;\n}\n\n.popup-actions .cancel-btn {\n  background: #FFFFFF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  color: #63536C;\n  width: 139px;\n}\n\n.delete-confirm-popup p {\n  font-family: 'Roboto';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 19px;\n  color: #000000;\n  text-align: center;\n  margin: 20px 0;\n}\n\n.film-popup .popup-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 0 35px;\n  gap: 34px;\n  width: 100%;\n}\n\n.film-popup .form-group label {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 14px;\n  color: #848484;\n}\n\n.film-popup .form-group input,\n.film-popup .form-group textarea {\n  width: 100%;\n  padding: 8px;\n  background: #FFFFFF;\n  border: 1px solid #B7B7B7;\n  font-family: 'Roboto', sans-serif;\n  font-size: 16px;\n}\n\n.film-popup .form-group input {\n  height: 35px;\n}\n\n.film-popup .form-group textarea {\n  height: 80px;\n  resize: none;\n}\n\n.film-popup .popup-actions {\n  display: flex;\n  justify-content: center;\n  gap: 14px;\n  width: 561px;\n}\n\n.film-popup .action-btn {\n  padding: 11px 32px;\n  height: 40px;\n  border: none;\n  border-radius: 3px;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  text-transform: uppercase;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.film-popup .add-film-btn {\n  width: 194px;\n  background: #16A6AF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  color: #FFFFFF;\n}\n\n.film-popup .upload-poster-btn {\n  width: 200px;\n  background: #16A6AF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  color: #FFFFFF;\n  box-sizing: border-box;\n}\n\n.film-popup .cancel-btn {\n  width: 139px;\n  background: #FFFFFF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  color: #63536C;\n}\n\n.film-popup .poster-upload-input {\n  display: none;\n}\n\n.loading, .error {\n  text-align: center;\n  padding: 50px;\n  font-family: 'Roboto', sans-serif;\n  font-size: 18px;\n}\n\n.error {\n  color: #f44336;\n}\n\n.poster-upload {\n  margin-top: 10px;\n}\n\n.upload-btn {\n  display: inline-block;\n  padding: 8px 12px;\n  background-color: #3aa8c1;\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  font-family: 'Roboto', sans-serif;\n  font-size: 14px;\n}\n\n.upload-btn:hover {\n  background-color: #2d8da3;\n}\n\n.poster-preview {\n  position: relative;\n  margin-top: 10px;\n  max-width: 200px;\n}\n\n.poster-preview img {\n  max-width: 100%;\n  max-height: 200px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.remove-poster {\n  position: absolute;\n  top: -10px;\n  right: -10px;\n  background: #ff4444;\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 24px;\n  height: 24px;\n  font-size: 14px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.conf-step__movie {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  margin-bottom: 10px;\n  cursor: grab;\n  position: relative;\n  width: 259px;\n}\n\n.conf-step__movie-poster {\n  width: 38px;\n  height: 50px;\n  object-fit: cover;\n  margin-right: 10px;\n  border: 1px solid #ddd;\n}\n\n.conf-step__movie-info {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n\n.conf-step__movie-info h4 {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  color: #000000;\n  margin: 0 0 4px 0;\n}\n\n.conf-step__movie-info p {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 14px;\n  color: rgba(0, 0, 0, 0.7);\n  margin: 0;\n}\n\n.conf-step__movies {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-bottom: 20px;\n  margin-top: 20px;\n  width: 100%;\n}\n\n.conf-step__sales {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n}\n\n.conf-step__seances-timeline-wrapper {\n  display: flex;\n  width: 100%;\n}\n\n.conf-step__seances-hall.dragging-seance .conf-step__trash-bin {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.conf-step__trash-bin.drag-over {\n  background-color: rgba(255, 68, 68, 0.3);\n}\n\n.conf-step__seances-hall img {\n  max-width: 38px;\n  max-height: 50px;\n}\n\n.conf-step__trash-bin {\n  position: absolute;\n  left:100px;\n  width: 40px;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  cursor: pointer;\n  margin-right: 5px;\n  opacity: 0;\n  transition: opacity 0.3s;\n  pointer-events: none;\n}\n\n.conf-step__seances-hall.drag-active .conf-step__trash-bin {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.conf-step__trash-bin.drag-over {\n  background-color: rgba(255, 68, 68, 0.3);\n}\n\n.conf-step__trash-bin {\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.drag-active .conf-step__trash-bin {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.conf-step__hall-delete {\n  width: 20px;\n  height: 20px;\n  background: #FFFFFF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  border: none;\n  background-image: url(${g});\n  background-size: 40px 18px;\n  background-repeat: no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-left: 10px;\n}\n\n.conf-step__button-trash {\n  position: absolute;\n  right: 5px;\n  top: 25px;\n  width: 20px;\n  height: 20px;\n  background: #FFFFFF;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.24), 0px 0px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n  border: none;\n  background-image: url(${g});\n  background-size: 38px 18px;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  z-index: 1;\n}\n\n.popup-close-btn {\n  position: static; \n  width: 22px;\n  height: 22px;\n  background: url(${b}) no-repeat center;\n  background-size: contain;\n  border: none;\n  cursor: pointer;\n  margin: 0; \n  order: 1; \n}\n\n@media (max-width: 768px) {\n  .admin-container {\n    padding: 0px;\n    width: 100%;\n  }\n  \n  .admin-header {\n    padding: 20px;\n    height: auto;\n  }\n\n  .admin-content{ \n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .section-content {\n    padding-left: 55px;\n    padding-right: 5px;\n    box-sizing: border-box;\n  }\n\n  .form-group {\n    width: 90%;\n  }\n\n  .popup-content {\n    max-width: none;\n    width: 100%;\n  }\n\n  .admin-section {\n    width: 100%;\n  }\n\n  .conf-step__wrapper {\n    box-sizing: border-box;\n    padding: 0px;\n    padding-bottom: 20px;\n  }\n\n  .conf-step__seances-hall {\n    width: 100% ;\n  }\n\n  .section-header::after {\n    left: 45px;\n  }\n\n  .admin-section::before {\n    left: 45px;\n  }\n  \n  .section-header {\n    padding: 20px 20px 20px 80px;\n    width: 100%;\n  }\n\n  .conf-step__row {\n    gap: 8px;\n  }\n\n  .conf-step__movie {\n    margin: auto;\n  }\n\n  .section-name-holder {\n    margin: auto;\n  }\n  \n  .section-header::before {\n    left: 20px;\n  }\n  \n  .conf-step__wrapper {\n    width: 100%;\n  }\n}\n\n@media (max-width: 390px) {\n  .admin-container {\n    padding: 0px;\n  }\n  \n  .section-header {\n    padding: 15px 15px 15px 60px;\n    width: 100%;\n  }\n\n  .section-content {\n    padding: 0px;\n  }\n\n  .admin-content {\n    width: 100%;\n  }\n\n  .admin-section {\n    width: 100%;\n  }\n\n  .conf-step__wrapper {\n    padding: 0px;\n    padding-bottom: 20px;\n    padding-left: 10px;\n    padding-right: 10px;\n    box-sizing: border-box;\n  }\n\n  .conf-step__row {\n    gap: 8px;\n  }\n  \n  .section-name-holder   {\n    margin: auto;\n    padding-left: 20px;    \n  }\n  \n  .conf-step__seances {\n    padding: 0px;\n  }\n\n  .conf-step__seances-hall {\n    width: 100%;\n  }\n\n  .conf-step__movie {\n    margin: auto  ;\n  }\n\n  .conf-step__seances-timeline {\n    width: 100% ;\n  }\n\n  .section-header::before {\n    width: 30px;\n    height: 30px;\n    left: 10px;\n    font-size: 18px;\n  }\n  \n  .popup-actions {\n    flex-direction: column;\n    margin-top: 40px;\n    align-items: stretch;\n  }\n\n  .film-popup .popup-actions {\n    width: 100%;\n  }\n\n  .film-popup .cancel-btn {\n    width: 60%;\n  }\n\n  .action-btn .upload-poster-btn{\n    width: 60%;\n  } \n\n  .film-popup .add-film-btn {\n    width: 60%;\n    margin: auto  ;\n  }\n\n  .film-popup .upload-poster-btn {\n    width: 60%;\n  }\n\n  .form-group {\n    width: 90%;\n  }\n\n  .action-btn {\n    margin: auto;\n  }\n\n  .popup-form {\n    margin-bottom: 40px;\n  }\n  \n  .popup-actions button {\n    width: 100%;\n    margin-bottom: 10px;\n  }\n\n  .admin-section::before {\n    display: none;\n  }\n\n  .section-header::after {\n    display: none;\n  }\n\n  .section-header {\n    padding: 20px 15px;\n  }\n\n  .admin-section:first-child .section-header::after,\n  .admin-section:last-child .section-header::after,\n  .admin-section:last-child::before {\n    display: none;\n  }\n}`,""]);const x=d},967:(n,e,t)=>{n.exports=t.p+"c065bd9fa03a7a797d95.woff2"},996:(n,e,t)=>{n.exports=t.p+"images/bin.e17c06c9938a830e6a2d.png"}},n=>{n.O(0,[834],()=>n(n.s=915)),n.O()}]);